{"version":3,"sources":["../../keystone-airgaped/packages/ur-registry-eth/dist/RegistryType.js","../../keystone-airgaped/packages/sdk/dist/service.js","../../keystone-airgaped/packages/sdk/dist/components/Button.js","../../keystone-airgaped/packages/sdk/dist/components/ButtonGroup.js","../../onboard/dist/esm/keystone-ba807be1.js","../../keystone-airgaped/packages/eth-keyring/dist/index.js","../../keystone-airgaped/packages/sdk/dist/index.js","../../keystone-airgaped/packages/sdk/dist/Root.js","../../keystone-airgaped/packages/sdk/dist/hooks/useController.js","../../keystone-airgaped/packages/sdk/dist/hooks/useAnimatedQRCodePlayer.js","../../keystone-airgaped/packages/sdk/dist/components/BaseQRCode.js","../../keystone-airgaped/packages/sdk/dist/hooks/useAnimatedQRCodeReader.js","../../keystone-airgaped/packages/sdk/dist/types.js","../../keystone-airgaped/packages/ur-registry-eth/dist/index.js","../../keystone-airgaped/packages/ur-registry-eth/dist/EthSignRequest.js","../../keystone-airgaped/packages/ur-registry-eth/dist/EthSignature.js","../../keystone-airgaped/packages/ur-registry-eth/dist/utlis.js"],"names":["Object","defineProperty","exports","value","ExtendedRegistryTypes","RegistryType","extend","ETH_SIGN_REQUEST","ETH_SIGNATAURE","__importDefault","this","mod","__esModule","setupSdk","read","play","cameraReady","react_dom_1","Root_1","react_1","react_modal_1","initialized","r","p","status","sdk","bootstrap","htmlBody","document","getElementsByTagName","item","sdkDiv","createElement","id","appendChild","default","setAppElement","render","getSdk","Error","Button","styleBase","minWidth","height","background","borderColor","borderWidth","outline","margin","props","onClick","children","style","ButtonGroup","width","display","flexDirection","alignItems","justifyContent","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","keystoneProvider","_x2","_keystoneProvider","mark","_callee11","options","EthereumTx","_yield$import","createProvider","BASE_PATH","networkId","rpcUrl","BigNumber","networkName","keyring","dPath","addressList","enabled","customPath","provider","disconnect","setPath","_setPath","isCustomPath","enable","setPrimaryAccount","getPrimaryAddress","getMoreAccounts","_getMoreAccounts","_getAccounts","_getAccounts2","getBalances","getBalance","_signTransaction","_signTransaction2","_signMessage","_signMessage2","wrap","_context11","prev","next","_callee10","message","_context10","length","abrupt","signPersonalMessage","data","t0","stop","_x7","_callee9","transactionData","transaction","signedTx","_context9","Transaction","chain","signTransaction","sent","concat","serialize","toString","_x6","address","sendAsync","jsonrpc","method","params","e","res","result","addresses","all","map","_ref","_callee5","balance","_context5","_x5","_callee8","getMore","_context8","getAccounts","addAccounts","_x4","_callee7","accounts","_context7","getCurrentAddress","setCurrentAccount","findIndex","addr","readKeyring","_callee6","path","_context6","_x3","getEmptyKeyring","Array","from","callback","processMessage","messageData","processPersonalMessage","signMessage","send","appName","preferred","label","iconSrc","name","svg","iconSrcSet","wallet","_wallet","_callee4","helpers","resetWalletState","_context4","connect","get","_get","_callee","_context","network","_get2","_callee2","_context2","_get3","_callee3","_context3","_x","type","desktop","mobile","osExclusions","_toConsumableArray","_classCallCheck","_createClass","_inherits","_createSuper","_regeneratorRuntime","tslib_1","events_1","hdkey_1","sdk_1","__importStar","ethereumjs_util_1","bc_ur_registry_eth_1","uuid","keystoneSDK","readKeyringCryptoHDKey","__awaiter","_a","decodedResult","cryptoHDKey","hdPath","xfp","xpub","SupportedResult","UR_CRYPTO_HDKEY","title","description","CryptoHDKey","fromCBOR","cbor","getOrigin","getPath","getSourceFingerprint","getBip32Key","AirGapedKeyring","_events_1$EventEmitte","_super","opts","_this","call","page","perPage","currentAccount","paths","latestAccount","deserialize","_yield$readKeyringCry","index","_this2","n","to","newAccounts","i","_addressFromIndex","push","__getPage","increment","_this3","toChecksumAddress","a","toLowerCase","includes","filter","sendRequestID","ethSignature","requestIdBuffer","signature","signatureHex","s","v","UR_ETH_SIGNATURE","ETHSignature","getRequestId","getSignature","stringify","Buffer","slice","tx","chainId","requestId","ethSignRequest","_yield$this$readSigna","_pathFromAddress","getChainId","v4","EthSignRequest","constructETHRequest","serializeTx","DataType","console","log","toUR","hasNext","readSignature","withAccount","messageHex","_yield$this$readSigna2","rawHex","typedData","_yield$this$readSigna3","JSON","pb","checkKeyring","hdk","fromExtendedKey","dkey","derive","publicToAddress","publicKey","checksummedAddress","_yield$readKeyringCry2","items","raw","toBuffer","unpadBuffer","rlp","encode","EventEmitter","service_1","types_1","enumerable","_slicedToArray","useController_1","_useController_1$useC","useController","_useController_1$useC2","Controller","_useController_1$useC3","__createBinding","create","o","m","k","k2","__setModuleDefault","prototype","hasOwnProperty","thisArg","_arguments","P","generator","fulfilled","step","rejected","useAnimatedQRCodePlayer_1","useAnimatedQRCodeReader_1","customStyles","content","top","left","right","bottom","marginRight","transform","_react_1$useState","useState","_react_1$useState2","visible","setVisible","_react_1$useState3","_react_1$useState4","mode","setMode","_useAnimatedQRCodePla","useAnimatedQRCodePlayer","_useAnimatedQRCodePla2","AnimatedQRCodePlayer","_play","_useAnimatedQRCodeRea","useAnimatedQRCodeReader","_useAnimatedQRCodeRea2","AnimatedQRCodeReader","_useAnimatedQRCodeRea3","_read","reset","isOpen","boxSizing","padding","flex","rxjs_1","BaseQRCode_1","Button_1","ButtonGroup_1","bc_ur_1","UR","setData","refreshSpeed","setRefreshSpeed","_react_1$useState5","_react_1$useState6","setHasNext","_react_1$useState7","_react_1$useState8","setTitle","_react_1$useState9","_react_1$useState10","setDescription","urEncoder","useMemo","UREncoder","_react_1$useState11","nextPart","_react_1$useState12","qr","setQR","ee","useEffect","subscribe","interval","unsubscribe","BaseQRCode","size","emit","once","qrcode_react_1","_ref$size","_ref$data","_ref$ecl","ecl","level","react_qr_reader_1","setCameraReady","expectTypes","setExpectTypes","URDecoder","urDecoder","setURDecoder","setError","progress","setProgress","_react_1$useState13","_react_1$useState14","processUR","ur","isComplete","resultUR","foundExpected","forEach","et","join","receivePart","getProgress","onScan","onLoad","delay","onError","toFixed","color","expect","generateAddressfromXpub","__exportStar","bc_ur_registry_1","RegistryType_1","patchTags","values","rt","getTag","EthSignRequest_1","EthSignature_1","utlis_1","Keys","_bc_ur_registry_1$ext","RegistryItem","decodeToDataItem","RegistryTypes","_RegistryItem","getRegistryType","setupData","signData","dataType","derivationPath","getSignData","getDataType","getDerivationPath","getSignRequestAddress","toDataItem","DataItem","UUID","keyPath","setTag","signDataType","uuidString","replace","split","hdpathObject","CryptoKeypath","parseInt","isHardened","endsWith","PathComponent","hardened","fromDataItem","dataItem","getData","_cborPayload","derivePath"],"mappings":"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","file":"static/js/55.d789e64f.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExtendedRegistryTypes = void 0;\n\nvar bc_ur_registry_1 = require(\"@keystonehq/bc-ur-registry\");\n\nvar RegistryType = bc_ur_registry_1.extend.RegistryType;\nexports.ExtendedRegistryTypes = {\n  ETH_SIGN_REQUEST: new RegistryType('eth-sign-request', 401),\n  ETH_SIGNATAURE: new RegistryType('eth-signature', 402)\n};","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupSdk = void 0;\n\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\n\nvar Root_1 = __importDefault(require(\"./Root\"));\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_modal_1 = __importDefault(require(\"react-modal\"));\n\nvar initialized = false;\nvar read;\nvar play;\nvar cameraReady;\n\nvar bootstrap = function bootstrap() {\n  var htmlBody = document.getElementsByTagName('body').item(0);\n  var sdkDiv = document.createElement('div');\n  sdkDiv.id = 'kv_sdk_container';\n  htmlBody.appendChild(sdkDiv);\n  react_modal_1.default.setAppElement('#kv_sdk_container');\n  react_dom_1.default.render(react_1.default.createElement(Root_1.default), sdkDiv);\n};\n\nvar setupSdk = function setupSdk(r, p, status) {\n  initialized = true;\n  read = r;\n  play = p;\n  cameraReady = status;\n};\n\nexports.setupSdk = setupSdk;\nvar sdk = {\n  bootstrap: bootstrap,\n  getSdk: function getSdk() {\n    if (initialized) {\n      return {\n        read: read,\n        play: play,\n        cameraReady: cameraReady\n      };\n    } else {\n      throw new Error('SDK is not initialized');\n    }\n  }\n};\nexports.default = sdk;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Button = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar styleBase = {\n  minWidth: 64,\n  height: 24,\n  background: 'transparent',\n  borderColor: 'grey',\n  borderWidth: 1,\n  outline: 'none',\n  margin: 2\n};\n\nvar Button = function Button(props) {\n  var onClick = props.onClick,\n      children = props.children;\n  return react_1.default.createElement(\"button\", {\n    onClick: onClick,\n    style: styleBase\n  }, children);\n};\n\nexports.Button = Button;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonGroup = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar ButtonGroup = function ButtonGroup(props) {\n  return react_1.default.createElement(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'row-reverse',\n      alignItems: 'center',\n      justifyContent: 'flex-start'\n    }\n  }, props.children);\n};\n\nexports.ButtonGroup = ButtonGroup;","import _regeneratorRuntime from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nimport AirGapedKeyring from '@keystonehq/eth-keyring';\nvar img = \"data:image/png;base64,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\";\nvar img$1 = \"data:image/png;base64,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\";\n\nfunction keystone(options) {\n  var appName = options.appName,\n      rpcUrl = options.rpcUrl,\n      networkId = options.networkId,\n      preferred = options.preferred,\n      label = options.label,\n      iconSrc = options.iconSrc,\n      svg = options.svg;\n  return {\n    name: label || 'Keystone',\n    svg: svg,\n    iconSrc: img,\n    iconSrcSet: iconSrc || img$1,\n    wallet: function () {\n      var _wallet = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(helpers) {\n        var BigNumber, networkName, resetWalletState, provider;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                BigNumber = helpers.BigNumber, networkName = helpers.networkName, resetWalletState = helpers.resetWalletState;\n                _context4.next = 3;\n                return keystoneProvider({\n                  appName: appName,\n                  rpcUrl: rpcUrl,\n                  networkId: networkId,\n                  BigNumber: BigNumber,\n                  networkName: networkName,\n                  resetWalletState: resetWalletState\n                });\n\n              case 3:\n                provider = _context4.sent;\n                return _context4.abrupt(\"return\", {\n                  provider: provider,\n                  \"interface\": {\n                    name: 'Keystone',\n                    connect: provider.enable,\n                    disconnect: provider.disconnect,\n                    address: {\n                      get: function () {\n                        var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                          return _regeneratorRuntime.wrap(function _callee$(_context) {\n                            while (1) {\n                              switch (_context.prev = _context.next) {\n                                case 0:\n                                  return _context.abrupt(\"return\", provider.getPrimaryAddress());\n\n                                case 1:\n                                case \"end\":\n                                  return _context.stop();\n                              }\n                            }\n                          }, _callee);\n                        }));\n\n                        function get() {\n                          return _get.apply(this, arguments);\n                        }\n\n                        return get;\n                      }()\n                    },\n                    network: {\n                      get: function () {\n                        var _get2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                            while (1) {\n                              switch (_context2.prev = _context2.next) {\n                                case 0:\n                                  return _context2.abrupt(\"return\", networkId);\n\n                                case 1:\n                                case \"end\":\n                                  return _context2.stop();\n                              }\n                            }\n                          }, _callee2);\n                        }));\n\n                        function get() {\n                          return _get2.apply(this, arguments);\n                        }\n\n                        return get;\n                      }()\n                    },\n                    balance: {\n                      get: function () {\n                        var _get3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                          var address;\n                          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                            while (1) {\n                              switch (_context3.prev = _context3.next) {\n                                case 0:\n                                  address = provider.getPrimaryAddress();\n                                  return _context3.abrupt(\"return\", address && provider.getBalance(address));\n\n                                case 2:\n                                case \"end\":\n                                  return _context3.stop();\n                              }\n                            }\n                          }, _callee3);\n                        }));\n\n                        function get() {\n                          return _get3.apply(this, arguments);\n                        }\n\n                        return get;\n                      }()\n                    }\n                  }\n                });\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function wallet(_x) {\n        return _wallet.apply(this, arguments);\n      }\n\n      return wallet;\n    }(),\n    type: 'hardware',\n    desktop: true,\n    mobile: true,\n    osExclusions: [],\n    preferred: preferred\n  };\n}\n\nfunction keystoneProvider(_x2) {\n  return _keystoneProvider.apply(this, arguments);\n}\n\nfunction _keystoneProvider() {\n  _keystoneProvider = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(options) {\n    var EthereumTx, _yield$import, createProvider, BASE_PATH, networkId, rpcUrl, BigNumber, networkName, keyring, dPath, addressList, enabled, customPath, provider, disconnect, setPath, _setPath, isCustomPath, enable, setPrimaryAccount, getPrimaryAddress, getMoreAccounts, _getMoreAccounts, _getAccounts, _getAccounts2, getBalances, getBalance, _signTransaction, _signTransaction2, _signMessage, _signMessage2;\n\n    return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            _signMessage2 = function _signMessage4() {\n              _signMessage2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(message) {\n                return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n                  while (1) {\n                    switch (_context10.prev = _context10.next) {\n                      case 0:\n                        if (!(addressList.length === 0)) {\n                          _context10.next = 3;\n                          break;\n                        }\n\n                        _context10.next = 3;\n                        return enable();\n\n                      case 3:\n                        _context10.prev = 3;\n                        return _context10.abrupt(\"return\", keyring.signPersonalMessage(getPrimaryAddress(), message.data));\n\n                      case 7:\n                        _context10.prev = 7;\n                        _context10.t0 = _context10[\"catch\"](3);\n                        throw _context10.t0;\n\n                      case 10:\n                      case \"end\":\n                        return _context10.stop();\n                    }\n                  }\n                }, _callee10, null, [[3, 7]]);\n              }));\n              return _signMessage2.apply(this, arguments);\n            };\n\n            _signMessage = function _signMessage3(_x7) {\n              return _signMessage2.apply(this, arguments);\n            };\n\n            _signTransaction2 = function _signTransaction4() {\n              _signTransaction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(transactionData) {\n                var transaction, signedTx;\n                return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                  while (1) {\n                    switch (_context9.prev = _context9.next) {\n                      case 0:\n                        if (!(addressList.length === 0)) {\n                          _context9.next = 3;\n                          break;\n                        }\n\n                        _context9.next = 3;\n                        return enable();\n\n                      case 3:\n                        transaction = new EthereumTx.Transaction(transactionData, {\n                          chain: networkName(networkId)\n                        });\n                        _context9.prev = 4;\n                        _context9.next = 7;\n                        return keyring.signTransaction(getPrimaryAddress(), transaction);\n\n                      case 7:\n                        signedTx = _context9.sent;\n                        return _context9.abrupt(\"return\", \"0x\".concat(signedTx.serialize().toString('hex')));\n\n                      case 11:\n                        _context9.prev = 11;\n                        _context9.t0 = _context9[\"catch\"](4);\n                        throw _context9.t0;\n\n                      case 14:\n                      case \"end\":\n                        return _context9.stop();\n                    }\n                  }\n                }, _callee9, null, [[4, 11]]);\n              }));\n              return _signTransaction2.apply(this, arguments);\n            };\n\n            _signTransaction = function _signTransaction3(_x6) {\n              return _signTransaction2.apply(this, arguments);\n            };\n\n            getBalance = function _getBalance(address) {\n              return new Promise(function (resolve, reject) {\n                provider.sendAsync({\n                  jsonrpc: '2.0',\n                  method: 'eth_getBalance',\n                  params: [address, 'latest'],\n                  id: 42\n                }, function (e, res) {\n                  e && reject(e);\n                  var result = res && res.result;\n\n                  if (result != null) {\n                    resolve(new BigNumber(result).toString(10));\n                  } else {\n                    resolve(null);\n                  }\n                });\n              });\n            };\n\n            getBalances = function _getBalances(addresses) {\n              return Promise.all(addresses.map(function (address) {\n                return new Promise( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(resolve) {\n                    var balance;\n                    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            _context5.next = 2;\n                            return getBalance(address);\n\n                          case 2:\n                            balance = _context5.sent;\n                            resolve({\n                              address: address,\n                              balance: balance\n                            });\n\n                          case 4:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n\n                  return function (_x5) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n              }));\n            };\n\n            _getAccounts2 = function _getAccounts4() {\n              _getAccounts2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(getMore) {\n                return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        if (enabled) {\n                          _context8.next = 2;\n                          break;\n                        }\n\n                        return _context8.abrupt(\"return\", []);\n\n                      case 2:\n                        if (!(keyring.getAccounts().length > 0 && !getMore)) {\n                          _context8.next = 4;\n                          break;\n                        }\n\n                        return _context8.abrupt(\"return\", keyring.getAccounts());\n\n                      case 4:\n                        _context8.prev = 4;\n                        _context8.next = 7;\n                        return keyring.addAccounts(keyring.getAccounts().length + 5);\n\n                      case 7:\n                        addressList = _context8.sent;\n                        _context8.next = 13;\n                        break;\n\n                      case 10:\n                        _context8.prev = 10;\n                        _context8.t0 = _context8[\"catch\"](4);\n                        throw _context8.t0;\n\n                      case 13:\n                        return _context8.abrupt(\"return\", addressList);\n\n                      case 14:\n                      case \"end\":\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8, null, [[4, 10]]);\n              }));\n              return _getAccounts2.apply(this, arguments);\n            };\n\n            _getAccounts = function _getAccounts3(_x4) {\n              return _getAccounts2.apply(this, arguments);\n            };\n\n            _getMoreAccounts = function _getMoreAccounts3() {\n              _getMoreAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n                var accounts;\n                return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                  while (1) {\n                    switch (_context7.prev = _context7.next) {\n                      case 0:\n                        _context7.next = 2;\n                        return _getAccounts(true);\n\n                      case 2:\n                        accounts = _context7.sent;\n                        return _context7.abrupt(\"return\", accounts && getBalances(accounts));\n\n                      case 4:\n                      case \"end\":\n                        return _context7.stop();\n                    }\n                  }\n                }, _callee7);\n              }));\n              return _getMoreAccounts.apply(this, arguments);\n            };\n\n            getMoreAccounts = function _getMoreAccounts2() {\n              return _getMoreAccounts.apply(this, arguments);\n            };\n\n            getPrimaryAddress = function _getPrimaryAddress() {\n              return keyring.getCurrentAddress();\n            };\n\n            setPrimaryAccount = function _setPrimaryAccount(address) {\n              return keyring.setCurrentAccount(addressList.findIndex(function (addr) {\n                return addr === address;\n              }) || 0);\n            };\n\n            enable = function _enable() {\n              if (enabled) {\n                return _getAccounts();\n              }\n\n              return keyring.readKeyring().then(function () {\n                enabled = true;\n                return _getAccounts();\n              });\n            };\n\n            isCustomPath = function _isCustomPath() {\n              return customPath;\n            };\n\n            _setPath = function _setPath3() {\n              _setPath = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(path) {\n                return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n                  while (1) {\n                    switch (_context6.prev = _context6.next) {\n                      case 0:\n                        if (!(path !== BASE_PATH)) {\n                          _context6.next = 2;\n                          break;\n                        }\n\n                        throw new Error(\"Keystone only supports standard path: m/44'/0'/0'/0/x\");\n\n                      case 2:\n                        customPath = false;\n                        dPath = path;\n                        return _context6.abrupt(\"return\", true);\n\n                      case 5:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }\n                }, _callee6);\n              }));\n              return _setPath.apply(this, arguments);\n            };\n\n            setPath = function _setPath2(_x3) {\n              return _setPath.apply(this, arguments);\n            };\n\n            disconnect = function _disconnect() {\n              dPath = '';\n              enabled = false;\n              provider.stop();\n            };\n\n            _context11.next = 19;\n            return import('ethereumjs-tx');\n\n          case 19:\n            EthereumTx = _context11.sent;\n            _context11.next = 22;\n            return import('./providerEngine-610bf80e.js');\n\n          case 22:\n            _yield$import = _context11.sent;\n            createProvider = _yield$import[\"default\"];\n            BASE_PATH = \"m/44'/60'/0'/0\";\n            networkId = options.networkId, rpcUrl = options.rpcUrl, BigNumber = options.BigNumber, networkName = options.networkName;\n            keyring = AirGapedKeyring.getEmptyKeyring();\n            dPath = '';\n            addressList = Array.from([]);\n            enabled = false;\n            customPath = false;\n            provider = createProvider({\n              getAccounts: function getAccounts(callback) {\n                _getAccounts().then(function (res) {\n                  return callback(null, res);\n                })[\"catch\"](function (err) {\n                  return callback(err, null);\n                });\n              },\n              signTransaction: function signTransaction(transactionData, callback) {\n                _signTransaction(transactionData).then(function (res) {\n                  return callback(null, res);\n                })[\"catch\"](function (err) {\n                  return callback(err, null);\n                });\n              },\n              processMessage: function processMessage(messageData, callback) {\n                _signMessage(messageData).then(function (res) {\n                  return callback(null, res);\n                })[\"catch\"](function (err) {\n                  return callback(err, null);\n                });\n              },\n              processPersonalMessage: function processPersonalMessage(messageData, callback) {\n                _signMessage(messageData).then(function (res) {\n                  return callback(null, res);\n                })[\"catch\"](function (err) {\n                  return callback(err, null);\n                });\n              },\n              signMessage: function signMessage(messageData, callback) {\n                _signMessage(messageData).then(function (res) {\n                  return callback(null, res);\n                })[\"catch\"](function (err) {\n                  return callback(err, null);\n                });\n              },\n              signPersonalMessage: function signPersonalMessage(messageData, callback) {\n                _signMessage(messageData).then(function (res) {\n                  return callback(null, res);\n                })[\"catch\"](function (err) {\n                  return callback(err, null);\n                });\n              },\n              rpcUrl: rpcUrl\n            });\n            provider.setPath = setPath;\n            provider.dPath = dPath;\n            provider.enable = enable;\n            provider.setPrimaryAccount = setPrimaryAccount;\n            provider.getPrimaryAddress = getPrimaryAddress;\n            provider.getAccounts = _getAccounts;\n            provider.getMoreAccounts = getMoreAccounts;\n            provider.getBalance = getBalance;\n            provider.getBalances = getBalances;\n            provider.send = provider.sendAsync;\n            provider.disconnect = disconnect;\n            provider.isCustomPath = isCustomPath;\n            return _context11.abrupt(\"return\", provider);\n\n          case 45:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee11);\n  }));\n  return _keystoneProvider.apply(this, arguments);\n}\n\nexport default keystone;","\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _regeneratorRuntime = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar events_1 = require(\"events\");\n\nvar hdkey_1 = tslib_1.__importDefault(require(\"hdkey\"));\n\nvar sdk_1 = tslib_1.__importStar(require(\"@keystonehq/sdk\"));\n\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\n\nvar bc_ur_registry_eth_1 = require(\"@keystonehq/bc-ur-registry-eth\");\n\nvar uuid = tslib_1.__importStar(require(\"uuid\"));\n\nvar keyringType = 'Air Gaped Device';\nvar pathBase = 'm';\nvar MAX_INDEX = 1000;\nsdk_1.default.bootstrap();\nvar keystoneSDK = sdk_1.default.getSdk();\n\nvar readKeyringCryptoHDKey = function readKeyringCryptoHDKey() {\n  return tslib_1.__awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _a, decodedResult, result, cryptoHDKey, hdPath, xfp, xpub;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return keystoneSDK.read([sdk_1.SupportedResult.UR_CRYPTO_HDKEY], {\n              title: 'Sync Keystone',\n              description: \"Please click 'Sync' in Keystone and scan the QR code displayed later\"\n            });\n\n          case 2:\n            decodedResult = _context.sent;\n\n            if (!(decodedResult.status === 'success')) {\n              _context.next = 14;\n              break;\n            }\n\n            result = decodedResult.result;\n            cryptoHDKey = bc_ur_registry_eth_1.CryptoHDKey.fromCBOR(result.cbor);\n            hdPath = \"m/\".concat(cryptoHDKey.getOrigin().getPath());\n            xfp = (_a = cryptoHDKey.getOrigin().getSourceFingerprint()) === null || _a === void 0 ? void 0 : _a.toString('hex');\n\n            if (xfp) {\n              _context.next = 10;\n              break;\n            }\n\n            throw new Error('invalid crypto-hd-key, cannot get source fingerprint');\n\n          case 10:\n            xpub = cryptoHDKey.getBip32Key();\n            return _context.abrupt(\"return\", {\n              xfp: xfp,\n              xpub: xpub,\n              hdPath: hdPath\n            });\n\n          case 14:\n            throw new Error('Reading canceled');\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n};\n\nvar constructCryptoKeypath = function constructCryptoKeypath(hdPath) {\n  var paths = hdPath.replace('m/', '').split('/');\n  return new bc_ur_registry_eth_1.CryptoKeypath(paths.map(function (path) {\n    var index = parseInt(path.replace(\"'\", ''));\n    var isHardened = false;\n\n    if (path.endsWith(\"'\")) {\n      isHardened = true;\n    }\n\n    return new bc_ur_registry_eth_1.PathComponent({\n      index: index,\n      hardened: isHardened\n    });\n  }));\n};\n\nvar AirGapedKeyring = /*#__PURE__*/function (_events_1$EventEmitte) {\n  _inherits(AirGapedKeyring, _events_1$EventEmitte);\n\n  var _super = _createSuper(AirGapedKeyring);\n\n  function AirGapedKeyring(opts) {\n    var _this;\n\n    _classCallCheck(this, AirGapedKeyring);\n\n    _this = _super.call(this);\n    _this.xfp = '';\n    _this.xpub = '';\n    _this.hdPath = '';\n    _this.page = 0;\n    _this.perPage = 5;\n    _this.type = keyringType;\n    _this.accounts = [];\n    _this.currentAccount = 0;\n    _this.paths = {};\n    _this.latestAccount = 0;\n\n    _this.deserialize(opts);\n\n    return _this;\n  }\n\n  _createClass(AirGapedKeyring, [{\n    key: \"readKeyring\",\n    value: function readKeyring() {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _yield$readKeyringCry, xpub, xfp, hdPath;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return readKeyringCryptoHDKey();\n\n              case 2:\n                _yield$readKeyringCry = _context2.sent;\n                xpub = _yield$readKeyringCry.xpub;\n                xfp = _yield$readKeyringCry.xfp;\n                hdPath = _yield$readKeyringCry.hdPath;\n                this.xfp = xfp;\n                this.xpub = xpub;\n                this.hdPath = hdPath;\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"checkKeyring\",\n    value: function checkKeyring() {\n      if (!this.xfp || !this.xpub || !this.hdPath) {\n        throw new Error('keyring not fulfilled, please call function `readKeyring` firstly');\n      }\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize() {\n      return Promise.resolve({\n        xfp: this.xfp,\n        xpub: this.xpub,\n        hdPath: this.hdPath,\n        accounts: this.accounts,\n        currentAccount: this.currentAccount,\n        page: this.page,\n        perPage: this.perPage,\n        paths: this.paths\n      });\n    }\n  }, {\n    key: \"deserialize\",\n    value: function deserialize(opts) {\n      this.xfp = opts.xfp;\n      this.xpub = opts.xpub;\n      this.hdPath = opts.hdPath;\n      this.accounts = opts.accounts;\n      this.currentAccount = opts.currentAccount;\n      this.page = opts.page;\n      this.perPage = opts.perPage;\n      this.paths = opts.paths;\n    }\n  }, {\n    key: \"setCurrentAccount\",\n    value: function setCurrentAccount(index) {\n      this.currentAccount = index;\n    }\n  }, {\n    key: \"getCurrentAccount\",\n    value: function getCurrentAccount() {\n      return this.currentAccount;\n    }\n  }, {\n    key: \"getCurrentAddress\",\n    value: function getCurrentAddress() {\n      return this.accounts[this.currentAccount];\n    }\n  }, {\n    key: \"addAccounts\",\n    value: function addAccounts() {\n      var _this2 = this;\n\n      var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      return new Promise(function (resolve, reject) {\n        try {\n          var from = _this2.latestAccount;\n          var to = from + n;\n          var newAccounts = [];\n\n          for (var i = from; i < to; i++) {\n            var address = _this2._addressFromIndex(pathBase, i);\n\n            newAccounts.push(address);\n            _this2.page = 0;\n            _this2.latestAccount++;\n          }\n\n          _this2.accounts = _this2.accounts.concat(newAccounts);\n          resolve(_this2.accounts);\n        } catch (e) {\n          reject(e);\n        }\n      });\n    }\n  }, {\n    key: \"getFirstPage\",\n    value: function getFirstPage() {\n      this.page = 0;\n      return this.__getPage(1);\n    }\n  }, {\n    key: \"getNextPage\",\n    value: function getNextPage() {\n      return this.__getPage(1);\n    }\n  }, {\n    key: \"getPreviousPage\",\n    value: function getPreviousPage() {\n      return this.__getPage(-1);\n    }\n  }, {\n    key: \"__getPage\",\n    value: function __getPage(increment) {\n      var _this3 = this;\n\n      this.page += increment;\n\n      if (this.page <= 0) {\n        this.page = 1;\n      }\n\n      return new Promise(function (resolve, reject) {\n        try {\n          var from = (_this3.page - 1) * _this3.perPage;\n          var to = from + _this3.perPage;\n          var accounts = [];\n\n          for (var i = from; i < to; i++) {\n            var address = _this3._addressFromIndex(pathBase, i);\n\n            accounts.push({\n              address: address,\n              balance: null,\n              index: i\n            });\n            _this3.paths[ethereumjs_util_1.toChecksumAddress(address)] = i;\n          }\n\n          resolve(accounts);\n        } catch (e) {\n          reject(e);\n        }\n      });\n    }\n  }, {\n    key: \"getAccounts\",\n    value: function getAccounts() {\n      return this.accounts;\n    }\n  }, {\n    key: \"removeAccount\",\n    value: function removeAccount(address) {\n      if (!this.accounts.map(function (a) {\n        return a.toLowerCase();\n      }).includes(address.toLowerCase())) {\n        throw new Error(\"Address \".concat(address, \" not found in this keyring\"));\n      }\n\n      this.accounts = this.accounts.filter(function (a) {\n        return a.toLowerCase() !== address.toLowerCase();\n      });\n    }\n  }, {\n    key: \"readSignature\",\n    value: function readSignature(sendRequestID) {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var result, ethSignature, requestIdBuffer, signature, requestId, signatureHex, r, s, v;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return keystoneSDK.read([sdk_1.SupportedResult.UR_ETH_SIGNATURE], {\n                  title: 'Submit signing result',\n                  description: 'Please scan signing result QR code displayed on your Keystone'\n                });\n\n              case 2:\n                result = _context3.sent;\n\n                if (!(result.status === 'canceled')) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                throw new Error('read signature canceled');\n\n              case 7:\n                ethSignature = bc_ur_registry_eth_1.ETHSignature.fromCBOR(result.result.cbor);\n                requestIdBuffer = ethSignature.getRequestId();\n                signature = ethSignature.getSignature();\n                requestId = uuid.stringify(requestIdBuffer);\n\n                if (!(requestId !== sendRequestID)) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                throw new Error('read signature error: mismatched requestId');\n\n              case 13:\n                signatureHex = signature.toString('hex');\n                r = Buffer.from(signatureHex.slice(0, 64), 'hex');\n                s = Buffer.from(signatureHex.slice(64, 128), 'hex');\n                v = Buffer.from(signatureHex.slice(128), 'hex');\n                return _context3.abrupt(\"return\", {\n                  r: r,\n                  s: s,\n                  v: v\n                });\n\n              case 18:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n    }\n  }, {\n    key: \"signTransaction\",\n    value: function signTransaction(address, tx) {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var hdPath, chainId, requestId, ethSignRequest, _yield$this$readSigna, r, s, v;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                hdPath = this._pathFromAddress(address);\n                chainId = tx.getChainId();\n                requestId = uuid.v4();\n                ethSignRequest = bc_ur_registry_eth_1.EthSignRequest.constructETHRequest(AirGapedKeyring.serializeTx(tx), bc_ur_registry_eth_1.DataType.transaction, hdPath, this.xfp, requestId, chainId);\n                console.log(ethSignRequest);\n                _context4.next = 7;\n                return keystoneSDK.play(ethSignRequest.toUR(), {\n                  hasNext: true,\n                  title: 'Request signing transaction',\n                  description: 'Please scan the QR code below with Keystone, review transaction information and authorize to sign'\n                });\n\n              case 7:\n                _context4.next = 9;\n                return this.readSignature(requestId);\n\n              case 9:\n                _yield$this$readSigna = _context4.sent;\n                r = _yield$this$readSigna.r;\n                s = _yield$this$readSigna.s;\n                v = _yield$this$readSigna.v;\n                tx.r = r;\n                tx.s = s;\n                tx.v = v;\n                return _context4.abrupt(\"return\", tx);\n\n              case 17:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"signMessage\",\n    value: function signMessage(withAccount, data) {\n      return this.signPersonalMessage(withAccount, data);\n    }\n  }, {\n    key: \"signPersonalMessage\",\n    value: function signPersonalMessage(withAccount, messageHex) {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var hdPath, requestId, ethSignRequest, _yield$this$readSigna2, r, s, v;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                hdPath = this._pathFromAddress(withAccount);\n                requestId = uuid.v4();\n                ethSignRequest = bc_ur_registry_eth_1.EthSignRequest.constructETHRequest(Buffer.from(messageHex, 'hex'), bc_ur_registry_eth_1.DataType.rawHex, hdPath, this.xfp, requestId, undefined, withAccount);\n                _context5.next = 5;\n                return keystoneSDK.play(ethSignRequest.toUR(), {\n                  hasNext: true,\n                  title: 'Request signing message',\n                  description: 'Please scan the QR code below with Keystone, review message and authorize to sign'\n                });\n\n              case 5:\n                _context5.next = 7;\n                return this.readSignature(requestId);\n\n              case 7:\n                _yield$this$readSigna2 = _context5.sent;\n                r = _yield$this$readSigna2.r;\n                s = _yield$this$readSigna2.s;\n                v = _yield$this$readSigna2.v;\n                return _context5.abrupt(\"return\", '0x' + r + s + v);\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }, {\n    key: \"signTypedData\",\n    value: function signTypedData(withAccount, typedData) {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var hdPath, requestId, ethSignRequest, _yield$this$readSigna3, r, s, v;\n\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                hdPath = this._pathFromAddress(withAccount);\n                requestId = uuid.v4();\n                ethSignRequest = bc_ur_registry_eth_1.EthSignRequest.constructETHRequest(Buffer.from(JSON.stringify(typedData), 'utf-8'), bc_ur_registry_eth_1.DataType.typedData, hdPath, this.xfp, requestId, undefined, withAccount);\n                _context6.next = 5;\n                return keystoneSDK.play(ethSignRequest.toUR(), {\n                  hasNext: true,\n                  title: 'Request signing typed data',\n                  description: 'Please scan the QR code below with Keystone, review data and authorize to sign'\n                });\n\n              case 5:\n                _context6.next = 7;\n                return this.readSignature(requestId);\n\n              case 7:\n                _yield$this$readSigna3 = _context6.sent;\n                r = _yield$this$readSigna3.r;\n                s = _yield$this$readSigna3.s;\n                v = _yield$this$readSigna3.v;\n                return _context6.abrupt(\"return\", Buffer.concat([r, s, v]));\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    }\n  }, {\n    key: \"_addressFromIndex\",\n    value: function _addressFromIndex(pb, i) {\n      this.checkKeyring();\n\n      if (!this.hdk) {\n        this.hdk = hdkey_1.default.fromExtendedKey(this.xpub);\n      }\n\n      var dkey = this.hdk.derive(\"\".concat(pb, \"/0/\").concat(i));\n      var address = '0x' + ethereumjs_util_1.publicToAddress(dkey.publicKey, true).toString('hex');\n      return ethereumjs_util_1.toChecksumAddress(address);\n    }\n  }, {\n    key: \"_pathFromAddress\",\n    value: function _pathFromAddress(address) {\n      var checksummedAddress = ethereumjs_util_1.toChecksumAddress(address);\n      var index = this.paths[checksummedAddress];\n\n      if (typeof index === 'undefined') {\n        for (var i = 0; i < MAX_INDEX; i++) {\n          if (checksummedAddress === this._addressFromIndex(pathBase, i)) {\n            index = i;\n            break;\n          }\n        }\n      }\n\n      if (typeof index === 'undefined') {\n        throw new Error('Unknown address');\n      }\n\n      return \"\".concat(this.hdPath, \"/0/\").concat(index);\n    }\n  }], [{\n    key: \"getKeyring\",\n    value: function getKeyring() {\n      return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var _yield$readKeyringCry2, xfp, xpub, hdPath;\n\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return readKeyringCryptoHDKey();\n\n              case 2:\n                _yield$readKeyringCry2 = _context7.sent;\n                xfp = _yield$readKeyringCry2.xfp;\n                xpub = _yield$readKeyringCry2.xpub;\n                hdPath = _yield$readKeyringCry2.hdPath;\n                return _context7.abrupt(\"return\", new AirGapedKeyring({\n                  xfp: xfp,\n                  xpub: xpub,\n                  hdPath: hdPath,\n                  perPage: 5,\n                  page: 0,\n                  accounts: [],\n                  currentAccount: 0,\n                  paths: {}\n                }));\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n    }\n  }, {\n    key: \"getEmptyKeyring\",\n    value: function getEmptyKeyring() {\n      return new AirGapedKeyring({\n        xfp: '',\n        xpub: '',\n        hdPath: '',\n        perPage: 5,\n        page: 0,\n        accounts: [],\n        currentAccount: 0,\n        paths: {}\n      });\n    }\n  }, {\n    key: \"serializeTx\",\n    value: function serializeTx(tx) {\n      var items = [].concat(_toConsumableArray(tx.raw.slice(0, 6)), [ethereumjs_util_1.toBuffer(tx.getChainId()), ethereumjs_util_1.unpadBuffer(ethereumjs_util_1.toBuffer(0)), ethereumjs_util_1.unpadBuffer(ethereumjs_util_1.toBuffer(0))]);\n      return ethereumjs_util_1.rlp.encode(items);\n    }\n  }]);\n\n  return AirGapedKeyring;\n}(events_1.EventEmitter);\n\nAirGapedKeyring.type = keyringType;\nexports.default = AirGapedKeyring;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SupportedResult = void 0;\n\nvar service_1 = __importDefault(require(\"./service\"));\n\nvar types_1 = require(\"./types\");\n\nObject.defineProperty(exports, \"SupportedResult\", {\n  enumerable: true,\n  get: function get() {\n    return types_1.SupportedResult;\n  }\n});\nexports.default = service_1.default;","\"use strict\";\n\nvar _slicedToArray = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar service_1 = require(\"./service\");\n\nvar useController_1 = require(\"./hooks/useController\");\n\nexports.default = function () {\n  var _useController_1$useC = useController_1.useController(),\n      _useController_1$useC2 = _slicedToArray(_useController_1$useC, 2),\n      Controller = _useController_1$useC2[0],\n      _useController_1$useC3 = _useController_1$useC2[1],\n      read = _useController_1$useC3.read,\n      play = _useController_1$useC3.play,\n      cameraReady = _useController_1$useC3.cameraReady;\n\n  service_1.setupSdk(read, play, cameraReady);\n  return Controller;\n};","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _slicedToArray = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useController = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_modal_1 = __importDefault(require(\"react-modal\"));\n\nvar useAnimatedQRCodePlayer_1 = require(\"./useAnimatedQRCodePlayer\");\n\nvar useAnimatedQRCodeReader_1 = require(\"./useAnimatedQRCodeReader\");\n\nvar customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\n\nvar useController = function useController() {\n  var _react_1$useState = react_1.useState(false),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      visible = _react_1$useState2[0],\n      setVisible = _react_1$useState2[1];\n\n  var _react_1$useState3 = react_1.useState('play'),\n      _react_1$useState4 = _slicedToArray(_react_1$useState3, 2),\n      mode = _react_1$useState4[0],\n      setMode = _react_1$useState4[1];\n\n  var _useAnimatedQRCodePla = useAnimatedQRCodePlayer_1.useAnimatedQRCodePlayer(),\n      _useAnimatedQRCodePla2 = _slicedToArray(_useAnimatedQRCodePla, 2),\n      AnimatedQRCodePlayer = _useAnimatedQRCodePla2[0],\n      _play = _useAnimatedQRCodePla2[1].play;\n\n  var _useAnimatedQRCodeRea = useAnimatedQRCodeReader_1.useAnimatedQRCodeReader(),\n      _useAnimatedQRCodeRea2 = _slicedToArray(_useAnimatedQRCodeRea, 2),\n      AnimatedQRCodeReader = _useAnimatedQRCodeRea2[0],\n      _useAnimatedQRCodeRea3 = _useAnimatedQRCodeRea2[1],\n      _read = _useAnimatedQRCodeRea3.read,\n      cameraReady = _useAnimatedQRCodeRea3.cameraReady;\n\n  var reset = function reset() {\n    setVisible(false);\n    setMode('play');\n  };\n\n  var element = react_1.default.createElement(react_modal_1.default, {\n    isOpen: visible,\n    style: customStyles\n  }, react_1.default.createElement(\"div\", {\n    style: {\n      width: 320,\n      boxSizing: 'border-box',\n      padding: 16,\n      flex: 1,\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }\n  }, mode === 'read' ? AnimatedQRCodeReader : AnimatedQRCodePlayer));\n  return [element, {\n    play: function play(data, options) {\n      return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setVisible(true);\n                setMode('play');\n                _context.next = 4;\n                return _play(data, options);\n\n              case 4:\n                reset();\n                return _context.abrupt(\"return\");\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    },\n    read: function read(options) {\n      return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                setVisible(true);\n                setMode('read');\n                _context2.next = 4;\n                return _read(options);\n\n              case 4:\n                result = _context2.sent;\n                reset();\n                return _context2.abrupt(\"return\", result);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    },\n    cameraReady: cameraReady\n  }];\n};\n\nexports.useController = useController;","\"use strict\";\n\nvar _slicedToArray = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAnimatedQRCodePlayer = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar rxjs_1 = require(\"rxjs\");\n\nvar BaseQRCode_1 = require(\"../components/BaseQRCode\");\n\nvar events_1 = require(\"events\");\n\nvar Button_1 = require(\"../components/Button\");\n\nvar ButtonGroup_1 = require(\"../components/ButtonGroup\");\n\nvar bc_ur_1 = require(\"@ngraveio/bc-ur\");\n\nvar DEFAULT_SPEED = 100;\n\nvar useAnimatedQRCodePlayer = function useAnimatedQRCodePlayer() {\n  var _react_1$useState = react_1.useState(new bc_ur_1.UR(Buffer.from('NO DATA', 'utf-8'))),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      data = _react_1$useState2[0],\n      setData = _react_1$useState2[1];\n\n  var _react_1$useState3 = react_1.useState(DEFAULT_SPEED),\n      _react_1$useState4 = _slicedToArray(_react_1$useState3, 2),\n      refreshSpeed = _react_1$useState4[0],\n      setRefreshSpeed = _react_1$useState4[1];\n\n  var _react_1$useState5 = react_1.useState(false),\n      _react_1$useState6 = _slicedToArray(_react_1$useState5, 2),\n      hasNext = _react_1$useState6[0],\n      setHasNext = _react_1$useState6[1];\n\n  var _react_1$useState7 = react_1.useState(null),\n      _react_1$useState8 = _slicedToArray(_react_1$useState7, 2),\n      title = _react_1$useState8[0],\n      setTitle = _react_1$useState8[1];\n\n  var _react_1$useState9 = react_1.useState(null),\n      _react_1$useState10 = _slicedToArray(_react_1$useState9, 2),\n      description = _react_1$useState10[0],\n      setDescription = _react_1$useState10[1];\n\n  var urEncoder = react_1.useMemo(function () {\n    return new bc_ur_1.UREncoder(data);\n  }, [data]);\n\n  var _react_1$useState11 = react_1.useState(urEncoder.nextPart()),\n      _react_1$useState12 = _slicedToArray(_react_1$useState11, 2),\n      qr = _react_1$useState12[0],\n      setQR = _react_1$useState12[1];\n\n  var ee = react_1.useMemo(function () {\n    return new events_1.EventEmitter();\n  }, []);\n\n  var reset = function reset() {\n    setData(new bc_ur_1.UR(Buffer.from('NO DATA', 'utf-8')));\n    setRefreshSpeed(DEFAULT_SPEED);\n  };\n\n  react_1.useEffect(function () {\n    var subscribe = rxjs_1.interval(refreshSpeed).subscribe(function () {\n      setQR(urEncoder.nextPart());\n    });\n    return function () {\n      subscribe.unsubscribe();\n    };\n  }, [refreshSpeed, urEncoder]);\n\n  var finish = function finish() {\n    ee.emit('finish', true);\n  };\n\n  var element = react_1.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    }\n  }, title && react_1.default.createElement(\"p\", null, title), description && react_1.default.createElement(\"p\", null, description), react_1.default.createElement(BaseQRCode_1.BaseQRCode, {\n    size: 288,\n    data: qr\n  }), react_1.default.createElement(ButtonGroup_1.ButtonGroup, null, react_1.default.createElement(Button_1.Button, {\n    onClick: finish\n  }, hasNext ? 'Continue' : 'Finish')));\n  return [element, {\n    play: function play(data, options) {\n      return new Promise(function (resolve) {\n        setData(data);\n\n        if (options) {\n          options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);\n          options.hasNext && setHasNext(options.hasNext);\n          options.title && setTitle(options.title);\n          options.description && setDescription(options.description);\n        }\n\n        ee.once('finish', function () {\n          reset();\n          resolve();\n        });\n      });\n    }\n  }];\n};\n\nexports.useAnimatedQRCodePlayer = useAnimatedQRCodePlayer;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseQRCode = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar qrcode_react_1 = __importDefault(require(\"qrcode.react\"));\n\nvar BaseQRCode = function BaseQRCode(_ref) {\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 200 : _ref$size,\n      _ref$data = _ref.data,\n      data = _ref$data === void 0 ? '' : _ref$data,\n      _ref$ecl = _ref.ecl,\n      ecl = _ref$ecl === void 0 ? 'L' : _ref$ecl;\n  return react_1.default.createElement(qrcode_react_1.default, {\n    value: data,\n    size: size,\n    level: ecl\n  });\n};\n\nexports.BaseQRCode = BaseQRCode;","\"use strict\";\n\nvar _slicedToArray = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAnimatedQRCodeReader = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_qr_reader_1 = __importDefault(require(\"react-qr-reader\"));\n\nvar events_1 = require(\"events\");\n\nvar Button_1 = require(\"../components/Button\");\n\nvar ButtonGroup_1 = require(\"../components/ButtonGroup\");\n\nvar bc_ur_1 = require(\"@ngraveio/bc-ur\");\n\nvar useAnimatedQRCodeReader = function useAnimatedQRCodeReader() {\n  var _react_1$useState = react_1.useState(false),\n      _react_1$useState2 = _slicedToArray(_react_1$useState, 2),\n      cameraReady = _react_1$useState2[0],\n      setCameraReady = _react_1$useState2[1];\n\n  var _react_1$useState3 = react_1.useState([]),\n      _react_1$useState4 = _slicedToArray(_react_1$useState3, 2),\n      expectTypes = _react_1$useState4[0],\n      setExpectTypes = _react_1$useState4[1];\n\n  var _react_1$useState5 = react_1.useState(new bc_ur_1.URDecoder()),\n      _react_1$useState6 = _slicedToArray(_react_1$useState5, 2),\n      urDecoder = _react_1$useState6[0],\n      setURDecoder = _react_1$useState6[1];\n\n  var _react_1$useState7 = react_1.useState(''),\n      _react_1$useState8 = _slicedToArray(_react_1$useState7, 2),\n      error = _react_1$useState8[0],\n      setError = _react_1$useState8[1];\n\n  var ee = react_1.useMemo(function () {\n    return new events_1.EventEmitter();\n  }, []);\n\n  var _react_1$useState9 = react_1.useState(null),\n      _react_1$useState10 = _slicedToArray(_react_1$useState9, 2),\n      title = _react_1$useState10[0],\n      setTitle = _react_1$useState10[1];\n\n  var _react_1$useState11 = react_1.useState(0),\n      _react_1$useState12 = _slicedToArray(_react_1$useState11, 2),\n      progress = _react_1$useState12[0],\n      setProgress = _react_1$useState12[1];\n\n  var _react_1$useState13 = react_1.useState(null),\n      _react_1$useState14 = _slicedToArray(_react_1$useState13, 2),\n      description = _react_1$useState14[0],\n      setDescription = _react_1$useState14[1];\n\n  var reset = function reset() {\n    setURDecoder(new bc_ur_1.URDecoder());\n    setError('');\n  };\n\n  var processQRCode = function processQRCode(qr) {\n    processUR(qr);\n  };\n\n  var handleStop = function handleStop() {\n    ee.emit('read', {\n      status: 'canceled'\n    });\n  };\n\n  var handleRetry = function handleRetry() {\n    reset();\n  };\n\n  var processUR = function processUR(ur) {\n    try {\n      if (!urDecoder.isComplete()) {\n        urDecoder.receivePart(ur);\n        setProgress(urDecoder.getProgress());\n      } else {\n        var result = urDecoder.resultUR();\n        var foundExpected = false;\n        expectTypes.forEach(function (et) {\n          if (et === result.type) {\n            foundExpected = true;\n            ee.emit('read', {\n              result: result,\n              status: 'success'\n            });\n            return;\n          }\n        });\n        if (!foundExpected) throw new Error(\"received ur type \".concat(result.type, \", but expected [\").concat(expectTypes.join(','), \"]\"));\n      }\n    } catch (e) {\n      setError(e.message);\n    }\n  };\n\n  var element = react_1.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    }\n  }, title && react_1.default.createElement(\"p\", null, title), description && react_1.default.createElement(\"p\", null, description), react_1.default.createElement(react_qr_reader_1.default, {\n    onScan: function onScan(data) {\n      if (data) {\n        processQRCode(data);\n      }\n    },\n    onLoad: function onLoad() {\n      setCameraReady(true);\n    },\n    delay: 100,\n    style: {\n      width: '100%'\n    },\n    onError: function onError(e) {\n      setError(e.message);\n    }\n  }), react_1.default.createElement(\"p\", null, \"Current Progress: \", (progress * 100).toFixed(0), \" %\"), react_1.default.createElement(ButtonGroup_1.ButtonGroup, null, react_1.default.createElement(Button_1.Button, {\n    onClick: handleStop\n  }, \"Close\"), error && react_1.default.createElement(Button_1.Button, {\n    onClick: handleRetry\n  }, \"Retry\")), error && react_1.default.createElement(\"p\", {\n    style: {\n      color: 'red'\n    }\n  }, error));\n  return [element, {\n    read: function read(expect, options) {\n      return new Promise(function (resolve) {\n        setExpectTypes(expect);\n\n        if (options) {\n          options.title && setTitle(options.title);\n          options.description && setDescription(options.description);\n        }\n\n        ee.once('read', function (result) {\n          reset();\n          resolve(result);\n        });\n      });\n    },\n    cameraReady: cameraReady\n  }];\n};\n\nexports.useAnimatedQRCodeReader = useAnimatedQRCodeReader;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SupportedResult = void 0;\nvar SupportedResult;\n\n(function (SupportedResult) {\n  SupportedResult[\"UR_BYTES\"] = \"bytes\";\n  SupportedResult[\"UR_CRYPTO_HDKEY\"] = \"crypto-hdkey\";\n  SupportedResult[\"UR_ETH_SIGN_REQUEST\"] = \"eth-sign-request\";\n  SupportedResult[\"UR_ETH_SIGNATURE\"] = \"eth-signature\";\n})(SupportedResult = exports.SupportedResult || (exports.SupportedResult = {}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateAddressfromXpub = exports.ETHSignature = exports.DataType = exports.EthSignRequest = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\ntslib_1.__exportStar(require(\"@keystonehq/bc-ur-registry\"), exports);\n\nvar bc_ur_registry_1 = require(\"@keystonehq/bc-ur-registry\");\n\nvar RegistryType_1 = require(\"./RegistryType\");\n\nvar cbor = bc_ur_registry_1.extend.cbor;\ncbor.patchTags(Object.values(RegistryType_1.ExtendedRegistryTypes).filter(function (rt) {\n  return !!rt.getTag();\n}).map(function (rt) {\n  return rt.getTag();\n}));\n\nvar EthSignRequest_1 = require(\"./EthSignRequest\");\n\nObject.defineProperty(exports, \"EthSignRequest\", {\n  enumerable: true,\n  get: function get() {\n    return EthSignRequest_1.EthSignRequest;\n  }\n});\nObject.defineProperty(exports, \"DataType\", {\n  enumerable: true,\n  get: function get() {\n    return EthSignRequest_1.DataType;\n  }\n});\n\nvar EthSignature_1 = require(\"./EthSignature\");\n\nObject.defineProperty(exports, \"ETHSignature\", {\n  enumerable: true,\n  get: function get() {\n    return EthSignature_1.ETHSignature;\n  }\n});\n\nvar utlis_1 = require(\"./utlis\");\n\nObject.defineProperty(exports, \"generateAddressfromXpub\", {\n  enumerable: true,\n  get: function get() {\n    return utlis_1.generateAddressfromXpub;\n  }\n});","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EthSignRequest = exports.DataType = void 0;\n\nvar bc_ur_registry_1 = require(\"@keystonehq/bc-ur-registry\");\n\nvar RegistryType_1 = require(\"./RegistryType\");\n\nvar _bc_ur_registry_1$ext = bc_ur_registry_1.extend,\n    RegistryItem = _bc_ur_registry_1$ext.RegistryItem,\n    decodeToDataItem = _bc_ur_registry_1$ext.decodeToDataItem,\n    RegistryTypes = _bc_ur_registry_1$ext.RegistryTypes;\nvar Keys;\n\n(function (Keys) {\n  Keys[Keys[\"requestId\"] = 1] = \"requestId\";\n  Keys[Keys[\"signData\"] = 2] = \"signData\";\n  Keys[Keys[\"dataType\"] = 3] = \"dataType\";\n  Keys[Keys[\"chainId\"] = 4] = \"chainId\";\n  Keys[Keys[\"derivationPath\"] = 5] = \"derivationPath\";\n  Keys[Keys[\"address\"] = 6] = \"address\";\n})(Keys || (Keys = {}));\n\nvar DataType;\n\n(function (DataType) {\n  DataType[DataType[\"transaction\"] = 1] = \"transaction\";\n  DataType[DataType[\"typedData\"] = 2] = \"typedData\";\n  DataType[DataType[\"rawHex\"] = 3] = \"rawHex\";\n  DataType[DataType[\"typedTransaction\"] = 4] = \"typedTransaction\";\n})(DataType = exports.DataType || (exports.DataType = {}));\n\nvar EthSignRequest = /*#__PURE__*/function (_RegistryItem) {\n  _inherits(EthSignRequest, _RegistryItem);\n\n  var _super = _createSuper(EthSignRequest);\n\n  function EthSignRequest(args) {\n    var _this;\n\n    _classCallCheck(this, EthSignRequest);\n\n    _this = _super.call(this);\n    _this.args = args;\n\n    _this.getRegistryType = function () {\n      return RegistryType_1.ExtendedRegistryTypes.ETH_SIGN_REQUEST;\n    };\n\n    _this.setupData = function (args) {\n      _this.requestId = args.requestId;\n      _this.signData = args.signData;\n      _this.dataType = args.dataType;\n      _this.chainId = args.chainId;\n      _this.derivationPath = args.derivationPath;\n      _this.address = args.address;\n    };\n\n    _this.getRequestId = function () {\n      return _this.requestId;\n    };\n\n    _this.getSignData = function () {\n      return _this.signData;\n    };\n\n    _this.getDataType = function () {\n      return _this.dataType;\n    };\n\n    _this.getChainId = function () {\n      return _this.chainId;\n    };\n\n    _this.getDerivationPath = function () {\n      return _this.derivationPath.getPath();\n    };\n\n    _this.getSignRequestAddress = function () {\n      return _this.address;\n    };\n\n    _this.toDataItem = function () {\n      var map = {};\n\n      if (_this.requestId) {\n        map[Keys.requestId] = new bc_ur_registry_1.DataItem(_this.requestId, RegistryTypes.UUID.getTag());\n      }\n\n      if (_this.address) {\n        map[Keys.address] = _this.address;\n      }\n\n      if (_this.chainId) {\n        map[Keys.chainId] = _this.chainId;\n      }\n\n      map[Keys.signData] = _this.signData;\n      map[Keys.dataType] = _this.dataType;\n\n      var keyPath = _this.derivationPath.toDataItem();\n\n      keyPath.setTag(_this.derivationPath.getRegistryType().getTag());\n      map[Keys.derivationPath] = keyPath;\n      return new bc_ur_registry_1.DataItem(map);\n    };\n\n    _this.setupData(args);\n\n    return _this;\n  }\n\n  _createClass(EthSignRequest, null, [{\n    key: \"constructETHRequest\",\n    value: function constructETHRequest(signData, signDataType, hdPath, xfp, uuidString, chainId, address) {\n      var paths = hdPath.replace(/[m|M]\\//, '').split('/');\n      var hdpathObject = new bc_ur_registry_1.CryptoKeypath(paths.map(function (path) {\n        var index = parseInt(path.replace(\"'\", ''));\n        var isHardened = false;\n\n        if (path.endsWith(\"'\")) {\n          isHardened = true;\n        }\n\n        return new bc_ur_registry_1.PathComponent({\n          index: index,\n          hardened: isHardened\n        });\n      }), Buffer.from(xfp, 'hex'));\n      return new EthSignRequest({\n        requestId: uuidString ? Buffer.from(uuidString, 'hex') : undefined,\n        signData: signData,\n        dataType: signDataType,\n        derivationPath: hdpathObject,\n        chainId: chainId,\n        address: address\n      });\n    }\n  }]);\n\n  return EthSignRequest;\n}(RegistryItem);\n\nexports.EthSignRequest = EthSignRequest;\n\nEthSignRequest.fromDataItem = function (dataItem) {\n  var map = dataItem.getData();\n  var signData = map[Keys.signData];\n  var dataType = map[Keys.dataType];\n  var derivationPath = bc_ur_registry_1.CryptoKeypath.fromDataItem(map[Keys.derivationPath]);\n  var chainId = map[Keys.chainId] ? map[Keys.chainId] : undefined;\n  var address = map[Keys.address] ? map[Keys.address] : undefined;\n  var requestId = map[Keys.requestId] ? map[Keys.requestId].getData() : undefined;\n  return new EthSignRequest({\n    requestId: requestId,\n    signData: signData,\n    dataType: dataType,\n    chainId: chainId,\n    derivationPath: derivationPath,\n    address: address\n  });\n};\n\nEthSignRequest.fromCBOR = function (_cborPayload) {\n  var dataItem = decodeToDataItem(_cborPayload);\n  return EthSignRequest.fromDataItem(dataItem);\n};","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _inherits = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ETHSignature = void 0;\n\nvar bc_ur_registry_1 = require(\"@keystonehq/bc-ur-registry\");\n\nvar RegistryType_1 = require(\"./RegistryType\");\n\nvar _bc_ur_registry_1$ext = bc_ur_registry_1.extend,\n    RegistryItem = _bc_ur_registry_1$ext.RegistryItem,\n    RegistryTypes = _bc_ur_registry_1$ext.RegistryTypes,\n    decodeToDataItem = _bc_ur_registry_1$ext.decodeToDataItem;\nvar Keys;\n\n(function (Keys) {\n  Keys[Keys[\"requestId\"] = 1] = \"requestId\";\n  Keys[Keys[\"signature\"] = 2] = \"signature\";\n})(Keys || (Keys = {}));\n\nvar ETHSignature = /*#__PURE__*/function (_RegistryItem) {\n  _inherits(ETHSignature, _RegistryItem);\n\n  var _super = _createSuper(ETHSignature);\n\n  function ETHSignature(signature, requestId) {\n    var _this;\n\n    _classCallCheck(this, ETHSignature);\n\n    _this = _super.call(this);\n\n    _this.getRegistryType = function () {\n      return RegistryType_1.ExtendedRegistryTypes.ETH_SIGNATAURE;\n    };\n\n    _this.getRequestId = function () {\n      return _this.requestId;\n    };\n\n    _this.getSignature = function () {\n      return _this.signature;\n    };\n\n    _this.toDataItem = function () {\n      var map = {};\n\n      if (_this.requestId) {\n        map[Keys.requestId] = new bc_ur_registry_1.DataItem(_this.requestId, RegistryTypes.UUID.getTag());\n      }\n\n      map[Keys.signature] = _this.signature;\n      return new bc_ur_registry_1.DataItem(map);\n    };\n\n    _this.signature = signature;\n    _this.requestId = requestId;\n    return _this;\n  }\n\n  return ETHSignature;\n}(RegistryItem);\n\nexports.ETHSignature = ETHSignature;\n\nETHSignature.fromDataItem = function (dataItem) {\n  var map = dataItem.getData();\n  var signature = map[Keys.signature];\n  var requestId = map[Keys.requestId] ? map[Keys.requestId].getData() : undefined;\n  return new ETHSignature(signature, requestId);\n};\n\nETHSignature.fromCBOR = function (_cborPayload) {\n  var dataItem = decodeToDataItem(_cborPayload);\n  return ETHSignature.fromDataItem(dataItem);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateAddressfromXpub = void 0;\n\nvar hdkey_1 = require(\"hdkey\");\n\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\n\nvar generateAddressfromXpub = function generateAddressfromXpub(xpub, derivePath) {\n  var node = hdkey_1.default.fromExtendedKey(xpub);\n  var publicKey = node.derive(derivePath);\n  var address = '0x' + ethereumjs_util_1.publicToAddress(publicKey.publicKey, true).toString('hex');\n  return ethereumjs_util_1.toChecksumAddress(address);\n};\n\nexports.generateAddressfromXpub = generateAddressfromXpub;"],"sourceRoot":""}