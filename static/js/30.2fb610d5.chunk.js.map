{"version":3,"sources":["../../onboard/node_modules/@ledgerhq/logs/lib-es/index.js","../../onboard/node_modules/@ledgerhq/hw-transport/lib-es/Transport.js","../../onboard/node_modules/@ledgerhq/errors/dist/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"names":["id","subscribers","log","type","message","data","obj","String","date","Date","i","length","e","console","error","dispatch","window","__ledgerLogsListen","cb","push","indexOf","pop","Transport","_this","this","exchangeTimeout","unresponsiveTimeout","deviceModel","_events","send","_ref","mark","_callee","cla","ins","p1","p2","statusList","response","sw","_args","arguments","wrap","_context","prev","next","undefined","Buffer","alloc","OK","exchange","concat","from","sent","readUInt16BE","some","s","abrupt","stop","_x","_x2","_x3","_x4","apply","exchangeBusyPromise","exchangeAtomicImpl","_ref2","_callee2","f","resolveBusy","busyPromise","unresponsiveReached","timeout","res","_context2","Promise","r","setTimeout","emit","clearTimeout","finish","_x5","_appAPIlock","key","value","_apdu","Error","_key","resolve","eventName","on","removeListener","event","_this$_events","_len","args","Array","_key2","warn","self","methods","scrambleKey","_step","_iterator","n","done","methodName","decorateAppAPIMethod","err","ctx","_this2","_callee3","_len2","_key3","_args3","_context3","reject","setScrambleKey","_this3","openTimeout","listenTimeout","found","sub","listen","unsubscribe","listenTimeoutId","open","descriptor","then","complete","ErrorMessage_NoDeviceFound","ErrorMessage_ListenTimeout","isSupported","list","errorClasses","deserializers","addCustomErrorDeserializer","name","deserializer","createCustomErrorClass","C","fields","Object","assign","stack","prototype","deserializeError","object","msg","JSON","parse","name_1","des","constructor","create","prop","hasOwnProperty","captureStackTrace","serializeError","destroyCircular","seen","to","_i","_a","keys","slice","AccountNameRequiredError","AccountNotSupported","AmountRequired","BluetoothRequired","BtcUnmatchedApp","CantOpenDevice","CashAddrNotSupported","CurrencyNotSupported","DeviceAppVerifyNotSupported","DeviceGenuineSocketEarlyClose","DeviceNotGenuineError","DeviceOnDashboardExpected","DeviceOnDashboardUnexpected","DeviceInOSUExpected","DeviceHalted","DeviceNameInvalid","DeviceSocketFail","DeviceSocketNoBulkStatus","DisconnectedDevice","DisconnectedDeviceDuringOperation","EnpointConfigError","EthAppPleaseEnableContractData","FeeEstimationFailed","FirmwareNotRecognized","HardResetFail","InvalidXRPTag","InvalidAddress","InvalidAddressBecauseDestinationIsAlsoSource","LatestMCUInstalledError","UnknownMCU","LedgerAPIError","LedgerAPIErrorWithMessage","LedgerAPINotAvailable","ManagerAppAlreadyInstalledError","ManagerAppRelyOnBTCError","ManagerAppDepInstallRequired","ManagerAppDepUninstallRequired","ManagerDeviceLockedError","ManagerFirmwareNotEnoughSpaceError","ManagerNotEnoughSpaceError","ManagerUninstallBTCDep","NetworkDown","NoAddressesFound","NotEnoughBalance","NotEnoughBalanceToDelegate","NotEnoughBalanceInParentAccount","NotEnoughSpendableBalance","NotEnoughBalanceBecauseDestinationNotCreated","NoAccessToCamera","NotEnoughGas","NotSupportedLegacyAddress","GasLessThanEstimate","PasswordsDontMatchError","PasswordIncorrectError","RecommendSubAccountsToEmpty","RecommendUndelegation","TimeoutTagged","UnexpectedBootloader","MCUNotGenuineToDashboard","RecipientRequired","UnavailableTezosOriginatedAccountReceive","UnavailableTezosOriginatedAccountSend","UpdateFetchFileFail","UpdateIncorrectHash","UpdateIncorrectSig","UpdateYourApp","UserRefusedDeviceNameChange","UserRefusedAddress","UserRefusedFirmwareUpdate","UserRefusedAllowManager","UserRefusedOnDevice","TransportOpenUserCancelled","TransportInterfaceNotAvailable","TransportRaceCondition","TransportWebUSBGestureRequired","DeviceShouldStayInApp","WebsocketConnectionError","WebsocketConnectionFailed","WrongDeviceForAccount","WrongAppForCurrency","ETHAddressNonEIP","CantScanQRCode","FeeNotLoaded","FeeRequired","FeeTooHigh","SyncError","PairingFailed","GenuineCheckFailed","LedgerAPI4xx","LedgerAPI5xx","FirmwareOrAppUpdateRequired","NoDBPathGiven","DBWrongPassword","DBNotReset","TransportError","StatusCodes","PIN_REMAINING_ATTEMPTS","INCORRECT_LENGTH","MISSING_CRITICAL_PARAMETER","COMMAND_INCOMPATIBLE_FILE_STRUCTURE","SECURITY_STATUS_NOT_SATISFIED","CONDITIONS_OF_USE_NOT_SATISFIED","INCORRECT_DATA","NOT_ENOUGH_MEMORY_SPACE","REFERENCED_DATA_NOT_FOUND","FILE_ALREADY_EXISTS","INCORRECT_P1_P2","INS_NOT_SUPPORTED","CLA_NOT_SUPPORTED","TECHNICAL_PROBLEM","MEMORY_PROBLEM","NO_EF_SELECTED","INVALID_OFFSET","FILE_NOT_FOUND","INCONSISTENT_FILE","ALGORITHM_NOT_SUPPORTED","INVALID_KCV","CODE_NOT_INITIALIZED","ACCESS_CONDITION_NOT_FULFILLED","CONTRADICTION_SECRET_CODE_STATUS","CONTRADICTION_INVALIDATION","CODE_BLOCKED","MAX_VALUE_REACHED","GP_AUTH_FAILED","LICENSING","HALTED","getAltStatusMessage","code","TransportStatusError","statusCode","statusText","find","k","smsg","statusCodeStr","toString","_createForOfIteratorHelper","o","Symbol","iterator","isArray","F","_e","TypeError","it","normalCompletion","didErr","step","_e2"],"mappings":"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","file":"static/js/30.2fb610d5.chunk.js","sourcesContent":["/**\n * A Log object\n */\nvar id = 0;\nvar subscribers = [];\n/**\n * log something\n * @param type a namespaced identifier of the log (it is not a level like \"debug\", \"error\" but more like \"apdu-in\", \"apdu-out\", etc...)\n * @param message a clear message of the log associated to the type\n */\n\nexport var log = function log(type, message, data) {\n  var obj = {\n    type: type,\n    id: String(++id),\n    date: new Date()\n  };\n  if (message) obj.message = message;\n  if (data) obj.data = data;\n  dispatch(obj);\n};\n/**\n * listen to logs.\n * @param cb that is called for each future log() with the Log object\n * @return a function that can be called to unsubscribe the listener\n */\n\nexport var listen = function listen(cb) {\n  subscribers.push(cb);\n  return function () {\n    var i = subscribers.indexOf(cb);\n\n    if (i !== -1) {\n      // equivalent of subscribers.splice(i, 1) // https://twitter.com/Rich_Harris/status/1125850391155965952\n      subscribers[i] = subscribers[subscribers.length - 1];\n      subscribers.pop();\n    }\n  };\n};\n\nfunction dispatch(log) {\n  for (var i = 0; i < subscribers.length; i++) {\n    try {\n      subscribers[i](log);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n} // for debug purpose\n\n\nif (typeof window !== \"undefined\") {\n  window.__ledgerLogsListen = listen;\n}","import _createForOfIteratorHelper from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _regeneratorRuntime from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport EventEmitter from \"events\";\nimport { TransportRaceCondition, TransportError, StatusCodes, getAltStatusMessage, TransportStatusError } from \"@ledgerhq/errors\";\nexport { TransportError, TransportStatusError, StatusCodes, getAltStatusMessage };\n/**\n */\n\n/**\n * Transport defines the generic interface to share between node/u2f impl\n * A **Descriptor** is a parametric type that is up to be determined for the implementation.\n * it can be for instance an ID, an file path, a URL,...\n */\n\nvar Transport = /*#__PURE__*/function () {\n  function Transport() {\n    var _this = this;\n\n    _classCallCheck(this, Transport);\n\n    this.exchangeTimeout = 30000;\n    this.unresponsiveTimeout = 15000;\n    this.deviceModel = null;\n    this._events = new EventEmitter();\n\n    this.send = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(cla, ins, p1, p2) {\n        var data,\n            statusList,\n            response,\n            sw,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = _args.length > 4 && _args[4] !== undefined ? _args[4] : Buffer.alloc(0);\n                statusList = _args.length > 5 && _args[5] !== undefined ? _args[5] : [StatusCodes.OK];\n\n                if (!(data.length >= 256)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                throw new TransportError(\"data.length exceed 256 bytes limit. Got: \" + data.length, \"DataLengthTooBig\");\n\n              case 4:\n                _context.next = 6;\n                return _this.exchange(Buffer.concat([Buffer.from([cla, ins, p1, p2]), Buffer.from([data.length]), data]));\n\n              case 6:\n                response = _context.sent;\n                sw = response.readUInt16BE(response.length - 2);\n\n                if (statusList.some(function (s) {\n                  return s === sw;\n                })) {\n                  _context.next = 10;\n                  break;\n                }\n\n                throw new TransportStatusError(sw);\n\n              case 10:\n                return _context.abrupt(\"return\", response);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2, _x3, _x4) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.exchangeBusyPromise = void 0;\n\n    this.exchangeAtomicImpl = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(f) {\n        var resolveBusy, busyPromise, unresponsiveReached, timeout, res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this.exchangeBusyPromise) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw new TransportRaceCondition(\"An action was already pending on the Ledger device. Please deny or reconnect.\");\n\n              case 2:\n                busyPromise = new Promise(function (r) {\n                  resolveBusy = r;\n                });\n                _this.exchangeBusyPromise = busyPromise;\n                unresponsiveReached = false;\n                timeout = setTimeout(function () {\n                  unresponsiveReached = true;\n\n                  _this.emit(\"unresponsive\");\n                }, _this.unresponsiveTimeout);\n                _context2.prev = 6;\n                _context2.next = 9;\n                return f();\n\n              case 9:\n                res = _context2.sent;\n\n                if (unresponsiveReached) {\n                  _this.emit(\"responsive\");\n                }\n\n                return _context2.abrupt(\"return\", res);\n\n              case 12:\n                _context2.prev = 12;\n                clearTimeout(timeout);\n                if (resolveBusy) resolveBusy();\n                _this.exchangeBusyPromise = null;\n                return _context2.finish(12);\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[6,, 12, 17]]);\n      }));\n\n      return function (_x5) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    this._appAPIlock = null;\n  }\n  /**\n   * low level api to communicate with the device\n   * This method is for implementations to implement but should not be directly called.\n   * Instead, the recommanded way is to use send() method\n   * @param apdu the data to send\n   * @return a Promise of response data\n   */\n\n\n  _createClass(Transport, [{\n    key: \"exchange\",\n    value: function exchange(_apdu) {\n      throw new Error(\"exchange not implemented\");\n    }\n    /**\n     * set the \"scramble key\" for the next exchanges with the device.\n     * Each App can have a different scramble key and they internally will set it at instanciation.\n     * @param key the scramble key\n     */\n\n  }, {\n    key: \"setScrambleKey\",\n    value: function setScrambleKey(_key) {}\n    /**\n     * close the exchange with the device.\n     * @return a Promise that ends when the transport is closed.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      return Promise.resolve();\n    }\n    /**\n     * Listen to an event on an instance of transport.\n     * Transport implementation can have specific events. Here is the common events:\n     * * `\"disconnect\"` : triggered if Transport is disconnected\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(eventName, cb) {\n      this._events.on(eventName, cb);\n    }\n    /**\n     * Stop listening to an event on an instance of transport.\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventName, cb) {\n      this._events.removeListener(eventName, cb);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$_events;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (_this$_events = this._events).emit.apply(_this$_events, [event].concat(args));\n    }\n    /**\n     * Enable or not logs of the binary exchange\n     */\n\n  }, {\n    key: \"setDebugMode\",\n    value: function setDebugMode() {\n      console.warn(\"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\");\n    }\n    /**\n     * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n     */\n\n  }, {\n    key: \"setExchangeTimeout\",\n    value: function setExchangeTimeout(exchangeTimeout) {\n      this.exchangeTimeout = exchangeTimeout;\n    }\n    /**\n     * Define the delay before emitting \"unresponsive\" on an exchange that does not respond\n     */\n\n  }, {\n    key: \"setExchangeUnresponsiveTimeout\",\n    value: function setExchangeUnresponsiveTimeout(unresponsiveTimeout) {\n      this.unresponsiveTimeout = unresponsiveTimeout;\n    }\n    /**\n     * wrapper on top of exchange to simplify work of the implementation.\n     * @param cla\n     * @param ins\n     * @param p1\n     * @param p2\n     * @param data\n     * @param statusList is a list of accepted status code (shorts). [0x9000] by default\n     * @return a Promise of response buffer\n     */\n\n    /**\n     * create() allows to open the first descriptor available or\n     * throw if there is none or if timeout is reached.\n     * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n     * @example\n    TransportFoo.create().then(transport => ...)\n     */\n\n  }, {\n    key: \"decorateAppAPIMethods\",\n    value: function decorateAppAPIMethods(self, methods, scrambleKey) {\n      var _iterator = _createForOfIteratorHelper(methods),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var methodName = _step.value;\n          self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"decorateAppAPIMethod\",\n    value: function decorateAppAPIMethod(methodName, f, ctx, scrambleKey) {\n      var _this2 = this;\n\n      return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var _appAPIlock,\n            _len2,\n            args,\n            _key3,\n            _args3 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _appAPIlock = _this2._appAPIlock;\n\n                if (!_appAPIlock) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", Promise.reject(new TransportError(\"Ledger Device is busy (lock \" + _appAPIlock + \")\", \"TransportLocked\")));\n\n              case 3:\n                _context3.prev = 3;\n                _this2._appAPIlock = methodName;\n\n                _this2.setScrambleKey(scrambleKey);\n\n                for (_len2 = _args3.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n                  args[_key3] = _args3[_key3];\n                }\n\n                _context3.next = 9;\n                return f.apply(ctx, args);\n\n              case 9:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 10:\n                _context3.prev = 10;\n                _this2._appAPIlock = null;\n                return _context3.finish(10);\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[3,, 10, 13]]);\n      }));\n    }\n  }], [{\n    key: \"create\",\n    value: function create() {\n      var _this3 = this;\n\n      var openTimeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3000;\n      var listenTimeout = arguments.length > 1 ? arguments[1] : undefined;\n      return new Promise(function (resolve, reject) {\n        var found = false;\n\n        var sub = _this3.listen({\n          next: function next(e) {\n            found = true;\n            if (sub) sub.unsubscribe();\n            if (listenTimeoutId) clearTimeout(listenTimeoutId);\n\n            _this3.open(e.descriptor, openTimeout).then(resolve, reject);\n          },\n          error: function error(e) {\n            if (listenTimeoutId) clearTimeout(listenTimeoutId);\n            reject(e);\n          },\n          complete: function complete() {\n            if (listenTimeoutId) clearTimeout(listenTimeoutId);\n\n            if (!found) {\n              reject(new TransportError(_this3.ErrorMessage_NoDeviceFound, \"NoDeviceFound\"));\n            }\n          }\n        });\n\n        var listenTimeoutId = listenTimeout ? setTimeout(function () {\n          sub.unsubscribe();\n          reject(new TransportError(_this3.ErrorMessage_ListenTimeout, \"ListenTimeout\"));\n        }, listenTimeout) : null;\n      });\n    }\n  }]);\n\n  return Transport;\n}();\n\nexport { Transport as default };\nTransport.isSupported = void 0;\nTransport.list = void 0;\nTransport.listen = void 0;\nTransport.open = void 0;\nTransport.ErrorMessage_ListenTimeout = \"No Ledger device found (timeout)\";\nTransport.ErrorMessage_NoDeviceFound = \"No Ledger device found\";","/* eslint-disable no-continue */\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable no-prototype-builtins */\nvar errorClasses = {};\nvar deserializers = {};\n\nvar addCustomErrorDeserializer = function addCustomErrorDeserializer(name, deserializer) {\n  deserializers[name] = deserializer;\n};\n\nvar createCustomErrorClass = function createCustomErrorClass(name) {\n  var C = function CustomError(message, fields) {\n    Object.assign(this, fields);\n    this.name = name;\n    this.message = message || name;\n    this.stack = new Error().stack;\n  };\n\n  C.prototype = new Error();\n  errorClasses[name] = C;\n  return C;\n}; // inspired from https://github.com/programble/errio/blob/master/index.js\n\n\nvar deserializeError = function deserializeError(object) {\n  if (typeof object === \"object\" && object) {\n    try {\n      // $FlowFixMe FIXME HACK\n      var msg = JSON.parse(object.message);\n\n      if (msg.message && msg.name) {\n        object = msg;\n      }\n    } catch (e) {// nothing\n    }\n\n    var error = void 0;\n\n    if (typeof object.name === \"string\") {\n      var name_1 = object.name;\n      var des = deserializers[name_1];\n\n      if (des) {\n        error = des(object);\n      } else {\n        var constructor = name_1 === \"Error\" ? Error : errorClasses[name_1];\n\n        if (!constructor) {\n          console.warn(\"deserializing an unknown class '\" + name_1 + \"'\");\n          constructor = createCustomErrorClass(name_1);\n        }\n\n        error = Object.create(constructor.prototype);\n\n        try {\n          for (var prop in object) {\n            if (object.hasOwnProperty(prop)) {\n              error[prop] = object[prop];\n            }\n          }\n        } catch (e) {// sometimes setting a property can fail (e.g. .name)\n        }\n      }\n    } else {\n      error = new Error(object.message);\n    }\n\n    if (!error.stack && Error.captureStackTrace) {\n      Error.captureStackTrace(error, deserializeError);\n    }\n\n    return error;\n  }\n\n  return new Error(String(object));\n}; // inspired from https://github.com/sindresorhus/serialize-error/blob/master/index.js\n\n\nvar serializeError = function serializeError(value) {\n  if (!value) return value;\n\n  if (typeof value === \"object\") {\n    return destroyCircular(value, []);\n  }\n\n  if (typeof value === \"function\") {\n    return \"[Function: \" + (value.name || \"anonymous\") + \"]\";\n  }\n\n  return value;\n}; // https://www.npmjs.com/package/destroy-circular\n\n\nfunction destroyCircular(from, seen) {\n  var to = {};\n  seen.push(from);\n\n  for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\n    var key = _a[_i];\n    var value = from[key];\n\n    if (typeof value === \"function\") {\n      continue;\n    }\n\n    if (!value || typeof value !== \"object\") {\n      to[key] = value;\n      continue;\n    }\n\n    if (seen.indexOf(from[key]) === -1) {\n      to[key] = destroyCircular(from[key], seen.slice(0));\n      continue;\n    }\n\n    to[key] = \"[Circular]\";\n  }\n\n  if (typeof from.name === \"string\") {\n    to.name = from.name;\n  }\n\n  if (typeof from.message === \"string\") {\n    to.message = from.message;\n  }\n\n  if (typeof from.stack === \"string\") {\n    to.stack = from.stack;\n  }\n\n  return to;\n}\n\nvar AccountNameRequiredError = createCustomErrorClass(\"AccountNameRequired\");\nvar AccountNotSupported = createCustomErrorClass(\"AccountNotSupported\");\nvar AmountRequired = createCustomErrorClass(\"AmountRequired\");\nvar BluetoothRequired = createCustomErrorClass(\"BluetoothRequired\");\nvar BtcUnmatchedApp = createCustomErrorClass(\"BtcUnmatchedApp\");\nvar CantOpenDevice = createCustomErrorClass(\"CantOpenDevice\");\nvar CashAddrNotSupported = createCustomErrorClass(\"CashAddrNotSupported\");\nvar CurrencyNotSupported = createCustomErrorClass(\"CurrencyNotSupported\");\nvar DeviceAppVerifyNotSupported = createCustomErrorClass(\"DeviceAppVerifyNotSupported\");\nvar DeviceGenuineSocketEarlyClose = createCustomErrorClass(\"DeviceGenuineSocketEarlyClose\");\nvar DeviceNotGenuineError = createCustomErrorClass(\"DeviceNotGenuine\");\nvar DeviceOnDashboardExpected = createCustomErrorClass(\"DeviceOnDashboardExpected\");\nvar DeviceOnDashboardUnexpected = createCustomErrorClass(\"DeviceOnDashboardUnexpected\");\nvar DeviceInOSUExpected = createCustomErrorClass(\"DeviceInOSUExpected\");\nvar DeviceHalted = createCustomErrorClass(\"DeviceHalted\");\nvar DeviceNameInvalid = createCustomErrorClass(\"DeviceNameInvalid\");\nvar DeviceSocketFail = createCustomErrorClass(\"DeviceSocketFail\");\nvar DeviceSocketNoBulkStatus = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\nvar DisconnectedDevice = createCustomErrorClass(\"DisconnectedDevice\");\nvar DisconnectedDeviceDuringOperation = createCustomErrorClass(\"DisconnectedDeviceDuringOperation\");\nvar EnpointConfigError = createCustomErrorClass(\"EnpointConfig\");\nvar EthAppPleaseEnableContractData = createCustomErrorClass(\"EthAppPleaseEnableContractData\");\nvar FeeEstimationFailed = createCustomErrorClass(\"FeeEstimationFailed\");\nvar FirmwareNotRecognized = createCustomErrorClass(\"FirmwareNotRecognized\");\nvar HardResetFail = createCustomErrorClass(\"HardResetFail\");\nvar InvalidXRPTag = createCustomErrorClass(\"InvalidXRPTag\");\nvar InvalidAddress = createCustomErrorClass(\"InvalidAddress\");\nvar InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass(\"InvalidAddressBecauseDestinationIsAlsoSource\");\nvar LatestMCUInstalledError = createCustomErrorClass(\"LatestMCUInstalledError\");\nvar UnknownMCU = createCustomErrorClass(\"UnknownMCU\");\nvar LedgerAPIError = createCustomErrorClass(\"LedgerAPIError\");\nvar LedgerAPIErrorWithMessage = createCustomErrorClass(\"LedgerAPIErrorWithMessage\");\nvar LedgerAPINotAvailable = createCustomErrorClass(\"LedgerAPINotAvailable\");\nvar ManagerAppAlreadyInstalledError = createCustomErrorClass(\"ManagerAppAlreadyInstalled\");\nvar ManagerAppRelyOnBTCError = createCustomErrorClass(\"ManagerAppRelyOnBTC\");\nvar ManagerAppDepInstallRequired = createCustomErrorClass(\"ManagerAppDepInstallRequired\");\nvar ManagerAppDepUninstallRequired = createCustomErrorClass(\"ManagerAppDepUninstallRequired\");\nvar ManagerDeviceLockedError = createCustomErrorClass(\"ManagerDeviceLocked\");\nvar ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass(\"ManagerFirmwareNotEnoughSpace\");\nvar ManagerNotEnoughSpaceError = createCustomErrorClass(\"ManagerNotEnoughSpace\");\nvar ManagerUninstallBTCDep = createCustomErrorClass(\"ManagerUninstallBTCDep\");\nvar NetworkDown = createCustomErrorClass(\"NetworkDown\");\nvar NoAddressesFound = createCustomErrorClass(\"NoAddressesFound\");\nvar NotEnoughBalance = createCustomErrorClass(\"NotEnoughBalance\");\nvar NotEnoughBalanceToDelegate = createCustomErrorClass(\"NotEnoughBalanceToDelegate\");\nvar NotEnoughBalanceInParentAccount = createCustomErrorClass(\"NotEnoughBalanceInParentAccount\");\nvar NotEnoughSpendableBalance = createCustomErrorClass(\"NotEnoughSpendableBalance\");\nvar NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass(\"NotEnoughBalanceBecauseDestinationNotCreated\");\nvar NoAccessToCamera = createCustomErrorClass(\"NoAccessToCamera\");\nvar NotEnoughGas = createCustomErrorClass(\"NotEnoughGas\");\nvar NotSupportedLegacyAddress = createCustomErrorClass(\"NotSupportedLegacyAddress\");\nvar GasLessThanEstimate = createCustomErrorClass(\"GasLessThanEstimate\");\nvar PasswordsDontMatchError = createCustomErrorClass(\"PasswordsDontMatch\");\nvar PasswordIncorrectError = createCustomErrorClass(\"PasswordIncorrect\");\nvar RecommendSubAccountsToEmpty = createCustomErrorClass(\"RecommendSubAccountsToEmpty\");\nvar RecommendUndelegation = createCustomErrorClass(\"RecommendUndelegation\");\nvar TimeoutTagged = createCustomErrorClass(\"TimeoutTagged\");\nvar UnexpectedBootloader = createCustomErrorClass(\"UnexpectedBootloader\");\nvar MCUNotGenuineToDashboard = createCustomErrorClass(\"MCUNotGenuineToDashboard\");\nvar RecipientRequired = createCustomErrorClass(\"RecipientRequired\");\nvar UnavailableTezosOriginatedAccountReceive = createCustomErrorClass(\"UnavailableTezosOriginatedAccountReceive\");\nvar UnavailableTezosOriginatedAccountSend = createCustomErrorClass(\"UnavailableTezosOriginatedAccountSend\");\nvar UpdateFetchFileFail = createCustomErrorClass(\"UpdateFetchFileFail\");\nvar UpdateIncorrectHash = createCustomErrorClass(\"UpdateIncorrectHash\");\nvar UpdateIncorrectSig = createCustomErrorClass(\"UpdateIncorrectSig\");\nvar UpdateYourApp = createCustomErrorClass(\"UpdateYourApp\");\nvar UserRefusedDeviceNameChange = createCustomErrorClass(\"UserRefusedDeviceNameChange\");\nvar UserRefusedAddress = createCustomErrorClass(\"UserRefusedAddress\");\nvar UserRefusedFirmwareUpdate = createCustomErrorClass(\"UserRefusedFirmwareUpdate\");\nvar UserRefusedAllowManager = createCustomErrorClass(\"UserRefusedAllowManager\");\nvar UserRefusedOnDevice = createCustomErrorClass(\"UserRefusedOnDevice\"); // TODO rename because it's just for transaction refusal\n\nvar TransportOpenUserCancelled = createCustomErrorClass(\"TransportOpenUserCancelled\");\nvar TransportInterfaceNotAvailable = createCustomErrorClass(\"TransportInterfaceNotAvailable\");\nvar TransportRaceCondition = createCustomErrorClass(\"TransportRaceCondition\");\nvar TransportWebUSBGestureRequired = createCustomErrorClass(\"TransportWebUSBGestureRequired\");\nvar DeviceShouldStayInApp = createCustomErrorClass(\"DeviceShouldStayInApp\");\nvar WebsocketConnectionError = createCustomErrorClass(\"WebsocketConnectionError\");\nvar WebsocketConnectionFailed = createCustomErrorClass(\"WebsocketConnectionFailed\");\nvar WrongDeviceForAccount = createCustomErrorClass(\"WrongDeviceForAccount\");\nvar WrongAppForCurrency = createCustomErrorClass(\"WrongAppForCurrency\");\nvar ETHAddressNonEIP = createCustomErrorClass(\"ETHAddressNonEIP\");\nvar CantScanQRCode = createCustomErrorClass(\"CantScanQRCode\");\nvar FeeNotLoaded = createCustomErrorClass(\"FeeNotLoaded\");\nvar FeeRequired = createCustomErrorClass(\"FeeRequired\");\nvar FeeTooHigh = createCustomErrorClass(\"FeeTooHigh\");\nvar SyncError = createCustomErrorClass(\"SyncError\");\nvar PairingFailed = createCustomErrorClass(\"PairingFailed\");\nvar GenuineCheckFailed = createCustomErrorClass(\"GenuineCheckFailed\");\nvar LedgerAPI4xx = createCustomErrorClass(\"LedgerAPI4xx\");\nvar LedgerAPI5xx = createCustomErrorClass(\"LedgerAPI5xx\");\nvar FirmwareOrAppUpdateRequired = createCustomErrorClass(\"FirmwareOrAppUpdateRequired\"); // db stuff, no need to translate\n\nvar NoDBPathGiven = createCustomErrorClass(\"NoDBPathGiven\");\nvar DBWrongPassword = createCustomErrorClass(\"DBWrongPassword\");\nvar DBNotReset = createCustomErrorClass(\"DBNotReset\");\n/**\r\n * TransportError is used for any generic transport errors.\r\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\r\n */\n\nfunction TransportError(message, id) {\n  this.name = \"TransportError\";\n  this.message = message;\n  this.stack = new Error().stack;\n  this.id = id;\n}\n\nTransportError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportError\", function (e) {\n  return new TransportError(e.message, e.id);\n});\nvar StatusCodes = {\n  PIN_REMAINING_ATTEMPTS: 0x63c0,\n  INCORRECT_LENGTH: 0x6700,\n  MISSING_CRITICAL_PARAMETER: 0x6800,\n  COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\n  SECURITY_STATUS_NOT_SATISFIED: 0x6982,\n  CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\n  INCORRECT_DATA: 0x6a80,\n  NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\n  REFERENCED_DATA_NOT_FOUND: 0x6a88,\n  FILE_ALREADY_EXISTS: 0x6a89,\n  INCORRECT_P1_P2: 0x6b00,\n  INS_NOT_SUPPORTED: 0x6d00,\n  CLA_NOT_SUPPORTED: 0x6e00,\n  TECHNICAL_PROBLEM: 0x6f00,\n  OK: 0x9000,\n  MEMORY_PROBLEM: 0x9240,\n  NO_EF_SELECTED: 0x9400,\n  INVALID_OFFSET: 0x9402,\n  FILE_NOT_FOUND: 0x9404,\n  INCONSISTENT_FILE: 0x9408,\n  ALGORITHM_NOT_SUPPORTED: 0x9484,\n  INVALID_KCV: 0x9485,\n  CODE_NOT_INITIALIZED: 0x9802,\n  ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\n  CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\n  CONTRADICTION_INVALIDATION: 0x9810,\n  CODE_BLOCKED: 0x9840,\n  MAX_VALUE_REACHED: 0x9850,\n  GP_AUTH_FAILED: 0x6300,\n  LICENSING: 0x6f42,\n  HALTED: 0x6faa\n};\n\nfunction getAltStatusMessage(code) {\n  switch (code) {\n    // improve text of most common errors\n    case 0x6700:\n      return \"Incorrect length\";\n\n    case 0x6800:\n      return \"Missing critical parameter\";\n\n    case 0x6982:\n      return \"Security not satisfied (dongle locked or have invalid access rights)\";\n\n    case 0x6985:\n      return \"Condition of use not satisfied (denied by the user?)\";\n\n    case 0x6a80:\n      return \"Invalid data received\";\n\n    case 0x6b00:\n      return \"Invalid parameter received\";\n  }\n\n  if (0x6f00 <= code && code <= 0x6fff) {\n    return \"Internal error, please report\";\n  }\n}\n/**\r\n * Error thrown when a device returned a non success status.\r\n * the error.statusCode is one of the `StatusCodes` exported by this library.\r\n */\n\n\nfunction TransportStatusError(statusCode) {\n  this.name = \"TransportStatusError\";\n  var statusText = Object.keys(StatusCodes).find(function (k) {\n    return StatusCodes[k] === statusCode;\n  }) || \"UNKNOWN_ERROR\";\n  var smsg = getAltStatusMessage(statusCode) || statusText;\n  var statusCodeStr = statusCode.toString(16);\n  this.message = \"Ledger device: \" + smsg + \" (0x\" + statusCodeStr + \")\";\n  this.stack = new Error().stack;\n  this.statusCode = statusCode;\n  this.statusText = statusText;\n}\n\nTransportStatusError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportStatusError\", function (e) {\n  return new TransportStatusError(e.statusCode);\n});\nexport { AccountNameRequiredError, AccountNotSupported, AmountRequired, BluetoothRequired, BtcUnmatchedApp, CantOpenDevice, CantScanQRCode, CashAddrNotSupported, CurrencyNotSupported, DBNotReset, DBWrongPassword, DeviceAppVerifyNotSupported, DeviceGenuineSocketEarlyClose, DeviceHalted, DeviceInOSUExpected, DeviceNameInvalid, DeviceNotGenuineError, DeviceOnDashboardExpected, DeviceOnDashboardUnexpected, DeviceShouldStayInApp, DeviceSocketFail, DeviceSocketNoBulkStatus, DisconnectedDevice, DisconnectedDeviceDuringOperation, ETHAddressNonEIP, EnpointConfigError, EthAppPleaseEnableContractData, FeeEstimationFailed, FeeNotLoaded, FeeRequired, FeeTooHigh, FirmwareNotRecognized, FirmwareOrAppUpdateRequired, GasLessThanEstimate, GenuineCheckFailed, HardResetFail, InvalidAddress, InvalidAddressBecauseDestinationIsAlsoSource, InvalidXRPTag, LatestMCUInstalledError, LedgerAPI4xx, LedgerAPI5xx, LedgerAPIError, LedgerAPIErrorWithMessage, LedgerAPINotAvailable, MCUNotGenuineToDashboard, ManagerAppAlreadyInstalledError, ManagerAppDepInstallRequired, ManagerAppDepUninstallRequired, ManagerAppRelyOnBTCError, ManagerDeviceLockedError, ManagerFirmwareNotEnoughSpaceError, ManagerNotEnoughSpaceError, ManagerUninstallBTCDep, NetworkDown, NoAccessToCamera, NoAddressesFound, NoDBPathGiven, NotEnoughBalance, NotEnoughBalanceBecauseDestinationNotCreated, NotEnoughBalanceInParentAccount, NotEnoughBalanceToDelegate, NotEnoughGas, NotEnoughSpendableBalance, NotSupportedLegacyAddress, PairingFailed, PasswordIncorrectError, PasswordsDontMatchError, RecipientRequired, RecommendSubAccountsToEmpty, RecommendUndelegation, StatusCodes, SyncError, TimeoutTagged, TransportError, TransportInterfaceNotAvailable, TransportOpenUserCancelled, TransportRaceCondition, TransportStatusError, TransportWebUSBGestureRequired, UnavailableTezosOriginatedAccountReceive, UnavailableTezosOriginatedAccountSend, UnexpectedBootloader, UnknownMCU, UpdateFetchFileFail, UpdateIncorrectHash, UpdateIncorrectSig, UpdateYourApp, UserRefusedAddress, UserRefusedAllowManager, UserRefusedDeviceNameChange, UserRefusedFirmwareUpdate, UserRefusedOnDevice, WebsocketConnectionError, WebsocketConnectionFailed, WrongAppForCurrency, WrongDeviceForAccount, addCustomErrorDeserializer, createCustomErrorClass, deserializeError, getAltStatusMessage, serializeError };","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"sourceRoot":""}