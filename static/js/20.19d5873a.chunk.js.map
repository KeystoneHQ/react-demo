{"version":3,"sources":["../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/communication/methods.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/index.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/sdk.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/communication/index.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/communication/messageFormatter.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/utils.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/communication/utils.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/txs/index.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/eth/index.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/eth/constants.js","../node_modules/@gnosis.pm/safe-apps-sdk/dist/src/types.js"],"names":["Object","defineProperty","exports","value","METHODS","getEnvInfo","sendTransactions","rpcCall","getSafeInfo","module","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","self","this","args","arguments","apply","err","undefined","__createBinding","create","o","m","k","k2","get","__exportStar","p","hasOwnProperty","call","__importDefault","mod","__esModule","getSDKVersion","sdk_1","default","utils_1","_regeneratorRuntime","_asyncToGenerator","_classCallCheck","_createClass","communication_1","communication_2","txs_1","eth_1","SafeAppsSDK","opts","window","Error","_opts$whitelistedDoma","whitelistedDomains","_opts$debug","debug","communicator","eth","Eth","txs","TXs","bootstrap","_bootstrap","mark","_callee","_yield$this$getEnvInf","txServiceUrl","wrap","_context","prev","next","sent","setTxServiceUrl","stop","_getEnvInfo","_callee2","response","_context2","send","success","abrupt","data","_getSafeInfo","_callee3","_context3","messageFormatter_1","PostMessageCommunicator","_this","allowedOrigins","debugMode","callbacks","Map","isValidMessage","_ref","origin","emptyOrMalformed","sentFromParentEl","source","parent","allowedSDKVersion","version","parseInt","split","validOrigin","Array","isArray","find","regExp","test","logIncomingMessage","msg","console","concat","onParentMessage","handleIncomingMessage","payload","id","cb","delete","method","params","request","MessageFormatter","makeRequest","postMessage","set","addEventListener","utils_2","generateRequestId","env","sdkVersion","makeResponse","makeErrorResponse","package_json_1","slice","dec2hex","dec","toString","padStart","len","arr","Uint8Array","crypto","getRandomValues","from","join","generateId","Date","getTime","methods_1","_getBySafeTxHash","safeTxHash","controller","options","res","json","AbortController","signal","setTimeout","abort","fetch","status","t0","_x","_send","messagePayload","_x2","url","constants_1","inputFormatters","defaultBlockParam","returnFullTxObjectParam","blockNumberToHex","Number","isInteger","buildRequest","RPC_CALLS","eth_call","formatters","getBalance","eth_getBalance","getCode","eth_getCode","getStorageAt","eth_getStorageAt","getPastLogs","eth_getLogs","getBlockByHash","eth_getBlockByHash","getBlockByNumber","eth_getBlockByNumber","getTransactionByHash","eth_getTransactionByHash","getTransactionReceipt","eth_getTransactionReceipt","_ref2","forEach","formatter","SettingsChangeMethods","TransferMethods","Operation"],"mappings":"0IAEAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAClBF,EAAQE,QAAU,CAChBC,WAAY,aACZC,iBAAkB,mBAClBC,QAAS,UACTC,YAAa,gB,kBCJfC,EAAOP,QANP,SAAyBQ,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,uC,kBCFxB,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDrB,OAAOC,eAAea,EAAQI,EAAWI,IAAKJ,IAUlDT,EAAOP,QANP,SAAsBS,EAAaY,EAAYC,GAG7C,OAFID,GAAYV,EAAkBF,EAAYc,UAAWF,GACrDC,GAAaX,EAAkBF,EAAaa,GACzCb,I,kBCbT,SAASe,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQT,EAAKU,GACpE,IACE,IAAIC,EAAON,EAAIL,GAAKU,GAChB7B,EAAQ8B,EAAK9B,MACjB,MAAO+B,GAEP,YADAL,EAAOK,GAILD,EAAKE,KACPP,EAAQzB,GAERiC,QAAQR,QAAQzB,GAAOkC,KAAKP,EAAOC,GAwBvCtB,EAAOP,QApBP,SAA2BoC,GACzB,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIN,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMW,EAAGK,MAAMJ,EAAME,GAEzB,SAASX,EAAM3B,GACbuB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQ5B,GAGlE,SAAS4B,EAAOa,GACdlB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASa,GAGnEd,OAAMe,S,kCC7BZ,IAAIC,EAAkBN,MAAQA,KAAKM,kBAAoB9C,OAAO+C,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7EN,IAAPM,IAAkBA,EAAKD,GAC3BlD,OAAOC,eAAe+C,EAAGG,EAAI,CAC3BhC,YAAY,EACZiC,IAAK,WACH,OAAOH,EAAEC,OAGX,SAAUF,EAAGC,EAAGC,EAAGC,QACVN,IAAPM,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAGRG,EAAeb,MAAQA,KAAKa,cAAgB,SAAUJ,EAAG/C,GAC3D,IAAK,IAAIoD,KAAKL,EACF,YAANK,GAAoBtD,OAAOyB,UAAU8B,eAAeC,KAAKtD,EAASoD,IAAIR,EAAgB5C,EAAS+C,EAAGK,IAItGG,EAAkBjB,MAAQA,KAAKiB,iBAAmB,SAAUC,GAC9D,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnC,QAAWA,IAIf1D,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0D,mBAAgB,EAExB,IAAIC,EAAQJ,EAAgB,EAAQ,OAEpCvD,EAAQ4D,QAAUD,EAAMC,QAExBT,EAAa,EAAQ,MAAUnD,GAE/BmD,EAAa,EAAQ,MAAYnD,GAEjCmD,EAAa,EAAQ,MAA4BnD,GAEjDmD,EAAa,EAAQ,MAAqCnD,GAE1D,IAAI6D,EAAU,EAAQ,MAEtB/D,OAAOC,eAAeC,EAAS,gBAAiB,CAC9CiB,YAAY,EACZiC,IAAK,WACH,OAAOW,EAAQH,kB,kCC/CnB,IAAII,EAAsB,EAAQ,GAE9BC,EAAoB,EAAQ,KAE5BC,EAAkB,EAAQ,KAE1BC,EAAe,EAAQ,KAEvBV,EAAkBjB,MAAQA,KAAKiB,iBAAmB,SAAUC,GAC9D,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnC,QAAWA,IAIf1D,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIiE,EAAkB,EAAQ,MAE1BC,EAAkBZ,EAAgB,EAAQ,OAE1Ca,EAAQ,EAAQ,MAEhBC,EAAQ,EAAQ,MAEhBC,EAA2B,WAC7B,SAASA,IACP,IAAIC,EAAO/B,UAAUzB,OAAS,QAAsB4B,IAAjBH,UAAU,GAAmBA,UAAU,GAAK,GAI/E,GAFAwB,EAAgB1B,KAAMgC,GAEA,qBAAXE,OACT,MAAM,IAAIC,MAAM,mDAGlB,IAAIC,EAAwBH,EAAKI,mBAC7BA,OAA+C,IAA1BD,EAAmC,KAAOA,EAC/DE,EAAcL,EAAKM,MACnBA,OAAwB,IAAhBD,GAAiCA,EAC7CtC,KAAKwC,aAAe,IAAIX,EAAgBP,QAAQe,EAAoBE,GACpEvC,KAAKyC,IAAM,IAAIV,EAAMW,IAAI1C,KAAKwC,cAC9BxC,KAAK2C,IAAM,IAAIb,EAAMc,IAAI5C,KAAKwC,cAC9BxC,KAAK6C,YAmHP,OAhHAlB,EAAaK,EAAa,CAAC,CACzBlD,IAAK,YACLnB,MAAO,WACL,IAAImF,EAAarB,EAAgCD,EAAoBuB,MAAK,SAASC,IACjF,IAAIC,EAAuBC,EAE3B,OAAO1B,EAAoB2B,MAAK,SAAkBC,GAChD,OACE,OAAQA,EAASC,KAAOD,EAASE,MAC/B,KAAK,EAEH,OADAF,EAASE,KAAO,EACTtD,KAAKnC,aAEd,KAAK,EACHoF,EAAwBG,EAASG,KACjCL,EAAeD,EAAsBC,aACrClD,KAAK2C,IAAIa,gBAAgBN,GAE3B,KAAK,EACL,IAAK,MACH,OAAOE,EAASK,UAGrBT,EAAShD,UAOd,OAJA,WACE,OAAO8C,EAAW3C,MAAMH,KAAME,YAzB3B,IA8BN,CACDpB,IAAK,aACLnB,MAAO,WACL,IAAI+F,EAAcjC,EAAgCD,EAAoBuB,MAAK,SAASY,IAClF,IAAIC,EACJ,OAAOpC,EAAoB2B,MAAK,SAAmBU,GACjD,OACE,OAAQA,EAAUR,KAAOQ,EAAUP,MACjC,KAAK,EAEH,OADAO,EAAUP,KAAO,EACVtD,KAAKwC,aAAasB,KAAKlC,EAAgBhE,QAAQC,gBAAYwC,GAEpE,KAAK,EAGH,IAFAuD,EAAWC,EAAUN,MAERQ,QAAS,CACpBF,EAAUP,KAAO,EACjB,MAGF,MAAM,IAAInB,MAAMyB,EAASlE,OAE3B,KAAK,EACH,OAAOmE,EAAUG,OAAO,SAAUJ,EAASK,MAE7C,KAAK,EACL,IAAK,MACH,OAAOJ,EAAUJ,UAGtBE,EAAU3D,UAOf,OAJA,WACE,OAAO0D,EAAYvD,MAAMH,KAAME,YAhC5B,IAqCN,CACDpB,IAAK,cACLnB,MAAO,WACL,IAAIuG,EAAezC,EAAgCD,EAAoBuB,MAAK,SAASoB,IACnF,IAAIP,EACJ,OAAOpC,EAAoB2B,MAAK,SAAmBiB,GACjD,OACE,OAAQA,EAAUf,KAAOe,EAAUd,MACjC,KAAK,EAEH,OADAc,EAAUd,KAAO,EACVtD,KAAKwC,aAAasB,KAAKlC,EAAgBhE,QAAQI,iBAAaqC,GAErE,KAAK,EAGH,IAFAuD,EAAWQ,EAAUb,MAERQ,QAAS,CACpBK,EAAUd,KAAO,EACjB,MAGF,MAAM,IAAInB,MAAMyB,EAASlE,OAE3B,KAAK,EACH,OAAO0E,EAAUJ,OAAO,SAAUJ,EAASK,MAE7C,KAAK,EACL,IAAK,MACH,OAAOG,EAAUX,UAGtBU,EAAUnE,UAOf,OAJA,WACE,OAAOkE,EAAa/D,MAAMH,KAAME,YAhC7B,MAuCF8B,EApIsB,GAuI/BtE,EAAQ4D,QAAUU,G,kCCjKlB,IAAIN,EAAkB,EAAQ,KAE1BpB,EAAkBN,MAAQA,KAAKM,kBAAoB9C,OAAO+C,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7EN,IAAPM,IAAkBA,EAAKD,GAC3BlD,OAAOC,eAAe+C,EAAGG,EAAI,CAC3BhC,YAAY,EACZiC,IAAK,WACH,OAAOH,EAAEC,OAGX,SAAUF,EAAGC,EAAGC,EAAGC,QACVN,IAAPM,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAGRG,EAAeb,MAAQA,KAAKa,cAAgB,SAAUJ,EAAG/C,GAC3D,IAAK,IAAIoD,KAAKL,EACF,YAANK,GAAoBtD,OAAOyB,UAAU8B,eAAeC,KAAKtD,EAASoD,IAAIR,EAAgB5C,EAAS+C,EAAGK,IAI1GtD,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAI0G,EAAqB,EAAQ,MA6EjC3G,EAAQ4D,QA3EsB,SAASgD,IACrC,IAAIC,EAAQvE,KAERwE,EAAiBtE,UAAUzB,OAAS,QAAsB4B,IAAjBH,UAAU,GAAmBA,UAAU,GAAK,KACrFuE,EAAYvE,UAAUzB,OAAS,QAAsB4B,IAAjBH,UAAU,IAAmBA,UAAU,GAE/EwB,EAAgB1B,KAAMsE,GAEtBtE,KAAKwE,eAAiB,KACtBxE,KAAK0E,UAAY,IAAIC,IACrB3E,KAAKyE,WAAY,EAEjBzE,KAAK4E,eAAiB,SAAUC,GAC9B,IAAIC,EAASD,EAAKC,OACdb,EAAOY,EAAKZ,KAEZc,GAAoBd,EACpBe,EAFSH,EAAKI,SAEgB/C,OAAOgD,OAErCC,GAD6C,qBAAjBlB,EAAKmB,SAA2BC,SAASpB,EAAKmB,QAAQE,MAAM,KAAK,MACnD,EAC1CC,GAAc,EAQlB,OANIC,MAAMC,QAAQlB,EAAMC,kBACtBe,OAEOlF,IAFOkE,EAAMC,eAAekB,MAAK,SAAUC,GAChD,OAAOA,EAAOC,KAAKd,QAIfC,GAAoBC,GAAoBG,GAAqBI,GAGvEvF,KAAK6F,mBAAqB,SAAUC,GAClCC,QAAQtG,KAAK,wDAAwDuG,OAAOF,EAAIhB,OAAQ,MAAOgB,EAAI7B,OAGrGjE,KAAKiG,gBAAkB,SAAUH,GAC3BvB,EAAMK,eAAekB,KACvBvB,EAAME,WAAaF,EAAMsB,mBAAmBC,GAE5CvB,EAAM2B,sBAAsBJ,EAAI7B,QAIpCjE,KAAKkG,sBAAwB,SAAUC,GACrC,IAAIC,EAAKD,EAAQC,GAEbC,EAAK9B,EAAMG,UAAU9D,IAAIwF,GAEzBC,IACFA,EAAGF,GAEH5B,EAAMG,UAAU4B,OAAOF,KAI3BpG,KAAK8D,KAAO,SAAUyC,EAAQC,GAC5B,IAAIC,EAAUpC,EAAmBqC,iBAAiBC,YAAYJ,EAAQC,GAEtE,GAAsB,qBAAXtE,OACT,MAAM,IAAIC,MAAM,wBAIlB,OADAD,OAAOgD,OAAO0B,YAAYH,EAAS,KAC5B,IAAI7G,SAAQ,SAAUR,GAC3BmF,EAAMG,UAAUmC,IAAIJ,EAAQL,IAAI,SAAUxC,GACxCxE,EAAQwE,UAKd5D,KAAKwE,eAAiBA,EACtBxE,KAAKyE,UAAYA,EACjBvC,OAAO4E,iBAAiB,UAAW9G,KAAKiG,kBAK1CpF,EAAa,EAAQ,MAAcnD,I,kCCxGnC,IAAIgE,EAAkB,EAAQ,KAE9BlE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQgJ,sBAAmB,EAE3B,IAAInF,EAAU,EAAQ,MAElBwF,EAAU,EAAQ,MAElBL,EAAmB,SAASA,IAC9BhF,EAAgB1B,KAAM0G,IAGxBhJ,EAAQgJ,iBAAmBA,EAE3BA,EAAiBC,YAAc,SAAUJ,EAAQC,GAE/C,MAAO,CACLJ,GAFO7E,EAAQyF,oBAGfT,OAAQA,EACRC,OAAQA,EACRS,IAAK,CACHC,WAAYH,EAAQ3F,mBAK1BsF,EAAiBS,aAAe,SAAUf,EAAInC,EAAMmB,GAClD,MAAO,CACLgB,GAAIA,EACJrC,SAAS,EACTqB,QAASA,EACTnB,KAAMA,IAIVyC,EAAiBU,kBAAoB,SAAUhB,EAAI1G,EAAO0F,GACxD,MAAO,CACLgB,GAAIA,EACJrC,SAAS,EACTrE,MAAOA,EACP0F,QAASA,K,kCC3Cb,IAAInE,EAAkBjB,MAAQA,KAAKiB,iBAAmB,SAAUC,GAC9D,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnC,QAAWA,IAIf1D,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0D,mBAAgB,EAExB,IAAIiG,EAAiBpG,EAAgB,EAAQ,OAQ7CvD,EAAQ0D,cAJY,WAClB,OAAOiG,EAAe/F,QAAQ8D,QAAQkC,MAAM,EAAG,K,kCChBjD9J,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQsJ,uBAAoB,EAE5B,IAAIO,EAAU,SAAiBC,GAC7B,OAAOA,EAAIC,SAAS,IAAIC,SAAS,EAAG,MAiBtChK,EAAQsJ,kBARgB,WACtB,MAAsB,qBAAX9E,OAPI,SAAoByF,GACnC,IAAIC,EAAM,IAAIC,YAAYF,GAAO,IAAM,GAEvC,OADAzF,OAAO4F,OAAOC,gBAAgBH,GACvBpC,MAAMwC,KAAKJ,EAAKL,GAASU,KAAK,IAK5BC,CAAW,KAGb,IAAIC,MAAOC,UAAUX,SAAS,M,qoCCpBvC,IAAIjG,EAAsB,EAAQ,GAE9BC,EAAoB,EAAQ,KAE5BC,EAAkB,EAAQ,KAE1BC,EAAe,EAAQ,KAE3BnE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQkF,SAAM,EAEd,IAAIyF,EAAY,EAAQ,MAEpBzF,EAAmB,WACrB,SAASA,EAAIJ,GACXd,EAAgB1B,KAAM4C,GAEtB5C,KAAKkD,aAAe,KACpBlD,KAAKwC,aAAeA,EAiItB,OA9HAb,EAAaiB,EAAK,CAAC,CACjB9D,IAAK,kBACLnB,MAAO,WACL,IAAI2K,EAAmB7G,EAAgCD,EAAoBuB,MAAK,SAASC,EAAQuF,GAC/F,IAAIC,EAAYC,EAASC,EAAKC,EAC9B,OAAOnH,EAAoB2B,MAAK,SAAkBC,GAChD,OACE,OAAQA,EAASC,KAAOD,EAASE,MAC/B,KAAK,EACH,GAAItD,KAAKkD,aAAc,CACrBE,EAASE,KAAO,EAChB,MAGF,MAAM,IAAInB,MAAM,mFAElB,KAAK,EAWH,OAVAqG,EAAa,IAAII,gBACjBH,EAAU,CACRlC,OAAQ,MACRsC,OAAQL,EAAWK,QAErBC,YAAW,WACT,OAAON,EAAWO,UACjB,KACH3F,EAASC,KAAO,EAChBD,EAASE,KAAO,EACT0F,MAAM,GAAGhD,OAAOhG,KAAKkD,aAAc,kBAAkB8C,OAAOuC,GAAaE,GAElF,KAAK,EAGH,GAAqB,OAFrBC,EAAMtF,EAASG,MAEL0F,OAAiB,CACzB7F,EAASE,KAAO,GAChB,MAGF,MAAM,IAAInB,MAAM,uHAElB,KAAK,GAEH,OADAiB,EAASE,KAAO,GACToF,EAAIC,OAEb,KAAK,GAEH,OADAA,EAAOvF,EAASG,KACTH,EAASY,OAAO,SAAU2E,GAEnC,KAAK,GAGH,MAFAvF,EAASC,KAAO,GAChBD,EAAS8F,GAAK9F,EAAgB,MAAE,GAC1BA,EAAS8F,GAEjB,KAAK,GACL,IAAK,MACH,OAAO9F,EAASK,UAGrBT,EAAShD,KAAM,CAAC,CAAC,EAAG,UAOzB,OAJA,SAAyBmJ,GACvB,OAAOb,EAAiBnI,MAAMH,KAAME,YA3DjC,IAgEN,CACDpB,IAAK,OACLnB,MAAO,WACL,IAAIyL,EAAQ3H,EAAgCD,EAAoBuB,MAAK,SAASY,EAASkB,GACrF,IAAIlC,EAAK6D,EAAQ6C,EAAgBzF,EACjC,OAAOpC,EAAoB2B,MAAK,SAAmBU,GACjD,OACE,OAAQA,EAAUR,KAAOQ,EAAUP,MACjC,KAAK,EAGH,GAFAX,EAAMkC,EAAKlC,IAAK6D,EAAS3B,EAAK2B,OAEvB7D,GAAQA,EAAIlE,OAAS,CAC1BoF,EAAUP,KAAO,EACjB,MAGF,MAAM,IAAInB,MAAM,+BAElB,KAAK,EAMH,OALAkH,EAAiB,CACf1G,IAAKA,EACL6D,OAAQA,GAEV3C,EAAUP,KAAO,EACVtD,KAAKwC,aAAasB,KAAKuE,EAAUzK,QAAQE,iBAAkBuL,GAEpE,KAAK,EAGH,IAFAzF,EAAWC,EAAUN,MAERQ,QAAS,CACpBF,EAAUP,KAAO,EACjB,MAGF,MAAM,IAAInB,MAAMyB,EAASlE,OAE3B,KAAK,EACH,OAAOmE,EAAUG,OAAO,SAAUJ,EAASK,MAE7C,KAAK,GACL,IAAK,MACH,OAAOJ,EAAUJ,UAGtBE,EAAU3D,UAOf,OAJA,SAAcsJ,GACZ,OAAOF,EAAMjJ,MAAMH,KAAME,YA9CtB,IAmDN,CACDpB,IAAK,kBACLnB,MAAO,SAAyB4L,GAC9BvJ,KAAKkD,aAAeqG,MAIjB3G,EAtIc,GAyIvBlF,EAAQkF,IAAMA,G,kCCxJd,IAAIpB,EAAsB,EAAQ,GAE9BC,EAAoB,EAAQ,KAE5BC,EAAkB,EAAQ,KAE1BC,EAAe,EAAQ,KAE3BnE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQgF,SAAM,EAEd,IAAI8G,EAAc,EAAQ,MAEtBnB,EAAY,EAAQ,MAEpBoB,EAAkB,CACpBC,kBAAmB,WACjB,IAAIlK,EAAMU,UAAUzB,OAAS,QAAsB4B,IAAjBH,UAAU,GAAmBA,UAAU,GAAK,SAC9E,OAAOV,GAETmK,wBAAyB,WACvB,IAAInK,EAAMU,UAAUzB,OAAS,QAAsB4B,IAAjBH,UAAU,IAAmBA,UAAU,GACzE,OAAOV,GAEToK,iBAAkB,SAA0BpK,GAC1C,OAAOqK,OAAOC,UAAUtK,GAAO,KAAKwG,OAAOxG,EAAIiI,SAAS,KAAOjI,IAI/DkD,EAAmB,WACrB,SAASA,EAAIF,GACXd,EAAgB1B,KAAM0C,GAEtB1C,KAAKwC,aAAeA,EACpBxC,KAAKgB,KAAOhB,KAAK+J,aAAa,CAC5B/I,KAAMwI,EAAYQ,UAAUC,SAC5BC,WAAY,CAAC,KAAMT,EAAgBC,qBAErC1J,KAAKmK,WAAanK,KAAK+J,aAAa,CAClC/I,KAAMwI,EAAYQ,UAAUI,eAC5BF,WAAY,CAAC,KAAMT,EAAgBC,qBAErC1J,KAAKqK,QAAUrK,KAAK+J,aAAa,CAC/B/I,KAAMwI,EAAYQ,UAAUM,YAC5BJ,WAAY,CAAC,KAAMT,EAAgBC,qBAErC1J,KAAKuK,aAAevK,KAAK+J,aAAa,CACpC/I,KAAMwI,EAAYQ,UAAUQ,iBAC5BN,WAAY,CAAC,KAAMT,EAAgBG,iBAAkBH,EAAgBC,qBAEvE1J,KAAKyK,YAAczK,KAAK+J,aAAa,CACnC/I,KAAMwI,EAAYQ,UAAUU,cAE9B1K,KAAK2K,eAAiB3K,KAAK+J,aAAa,CACtC/I,KAAMwI,EAAYQ,UAAUY,mBAC5BV,WAAY,CAAC,KAAMT,EAAgBE,2BAErC3J,KAAK6K,iBAAmB7K,KAAK+J,aAAa,CACxC/I,KAAMwI,EAAYQ,UAAUc,qBAC5BZ,WAAY,CAACT,EAAgBG,iBAAkBH,EAAgBE,2BAEjE3J,KAAK+K,qBAAuB/K,KAAK+J,aAAa,CAC5C/I,KAAMwI,EAAYQ,UAAUgB,2BAE9BhL,KAAKiL,sBAAwBjL,KAAK+J,aAAa,CAC7C/I,KAAMwI,EAAYQ,UAAUkB,4BA6DhC,OAzDAvJ,EAAae,EAAK,CAAC,CACjB5D,IAAK,eACLnB,MAAO,SAAsBkH,GAC3B,IAAIN,EAAQvE,KAERgB,EAAO6D,EAAK7D,KACZkJ,EAAarF,EAAKqF,WACtB,OAAoB,WAClB,IAAIiB,EAAQ1J,EAAgCD,EAAoBuB,MAAK,SAASC,EAAQwD,GACpF,IAAIL,EAASvC,EACb,OAAOpC,EAAoB2B,MAAK,SAAkBC,GAChD,OACE,OAAQA,EAASC,KAAOD,EAASE,MAC/B,KAAK,EAcH,OAbI4G,GAAc1E,MAAMC,QAAQe,IAC9B0D,EAAWkB,SAAQ,SAAUC,EAAW7M,GAClC6M,IACF7E,EAAOhI,GAAK6M,EAAU7E,EAAOhI,QAKnC2H,EAAU,CACRnF,KAAMA,EACNwF,OAAQA,GAEVpD,EAASE,KAAO,EACTiB,EAAM/B,aAAasB,KAAKuE,EAAUzK,QAAQG,QAASoI,GAE5D,KAAK,EAGH,IAFAvC,EAAWR,EAASG,MAEPQ,QAAS,CACpBX,EAASE,KAAO,EAChB,MAGF,MAAM,IAAInB,MAAMyB,EAASlE,OAE3B,KAAK,EACH,OAAO0D,EAASY,OAAO,SAAUJ,EAASK,MAE5C,KAAK,EACL,IAAK,MACH,OAAOb,EAASK,UAGrBT,OAGL,OAAO,SAAUmG,GACf,OAAOgC,EAAMhL,MAAMH,KAAME,YA5CT,OAkDjBwC,EAjGc,GAoGvBhF,EAAQgF,IAAMA,G,kCCnIdlF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQsM,eAAY,EACpBtM,EAAQsM,UAAY,CAClBC,SAAU,WACVS,YAAa,cACbN,eAAgB,iBAChBE,YAAa,cACbM,mBAAoB,qBACpBE,qBAAsB,uBACtBN,iBAAkB,mBAClBQ,yBAA0B,2BAC1BE,0BAA2B,8B,kCCb7B1N,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ4N,sBAAwB5N,EAAQ6N,gBAAkB7N,EAAQ8N,eAAY,EAE9D,EAAQ,OAKxB,SAAWA,GACTA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAyB,cAAI,GAAK,gBAC5CA,EAAUA,EAAkB,OAAI,GAAK,SAHvC,CAIe9N,EAAQ8N,YAAc9N,EAAQ8N,UAAY,KAKzD,SAAWD,GACTA,EAA0B,SAAI,WAC9BA,EAA+B,cAAI,eACnCA,EAAoC,mBAAI,mBAH1C,CAIqB7N,EAAQ6N,kBAAoB7N,EAAQ6N,gBAAkB,KAI3E,SAAWD,GACTA,EAA6B,MAAI,QACjCA,EAA4C,qBAAI,qBAChDA,EAAgD,yBAAI,wBACpDA,EAAoC,aAAI,cACxCA,EAAmD,4BAAI,2BACvDA,EAAkC,WAAI,YACtCA,EAAwC,iBAAI,kBAC5CA,EAA0C,mBAAI,mBAC9CA,EAAqC,cAAI,eACzCA,EAAsC,eAAI,gBAC1CA,EAAoD,6BAAI,4BACxDA,EAAoC,aAAI,cACxCA,EAAwC,iBAAI,kBAb9C,CAc2B5N,EAAQ4N,wBAA0B5N,EAAQ4N,sBAAwB","file":"static/js/20.19d5873a.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.METHODS = void 0;\nexports.METHODS = {\n  getEnvInfo: 'getEnvInfo',\n  sendTransactions: 'sendTransactions',\n  rpcCall: 'rpcCall',\n  getSafeInfo: 'getSafeInfo'\n};","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSDKVersion = void 0;\n\nvar sdk_1 = __importDefault(require(\"./sdk\"));\n\nexports.default = sdk_1.default;\n\n__exportStar(require(\"./sdk\"), exports);\n\n__exportStar(require(\"./types\"), exports);\n\n__exportStar(require(\"./communication/methods\"), exports);\n\n__exportStar(require(\"./communication/messageFormatter\"), exports);\n\nvar utils_1 = require(\"./utils\");\n\nObject.defineProperty(exports, \"getSDKVersion\", {\n  enumerable: true,\n  get: function get() {\n    return utils_1.getSDKVersion;\n  }\n});","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar communication_1 = require(\"./communication\");\n\nvar communication_2 = __importDefault(require(\"./communication\"));\n\nvar txs_1 = require(\"./txs\");\n\nvar eth_1 = require(\"./eth\");\n\nvar SafeAppsSDK = /*#__PURE__*/function () {\n  function SafeAppsSDK() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, SafeAppsSDK);\n\n    if (typeof window === 'undefined') {\n      throw new Error('Error initializing the sdk: window is undefined');\n    }\n\n    var _opts$whitelistedDoma = opts.whitelistedDomains,\n        whitelistedDomains = _opts$whitelistedDoma === void 0 ? null : _opts$whitelistedDoma,\n        _opts$debug = opts.debug,\n        debug = _opts$debug === void 0 ? false : _opts$debug;\n    this.communicator = new communication_2.default(whitelistedDomains, debug);\n    this.eth = new eth_1.Eth(this.communicator);\n    this.txs = new txs_1.TXs(this.communicator);\n    this.bootstrap();\n  }\n\n  _createClass(SafeAppsSDK, [{\n    key: \"bootstrap\",\n    value: function () {\n      var _bootstrap = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$this$getEnvInf, txServiceUrl;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getEnvInfo();\n\n              case 2:\n                _yield$this$getEnvInf = _context.sent;\n                txServiceUrl = _yield$this$getEnvInf.txServiceUrl;\n                this.txs.setTxServiceUrl(txServiceUrl);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function bootstrap() {\n        return _bootstrap.apply(this, arguments);\n      }\n\n      return bootstrap;\n    }()\n  }, {\n    key: \"getEnvInfo\",\n    value: function () {\n      var _getEnvInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.communicator.send(communication_1.METHODS.getEnvInfo, undefined);\n\n              case 2:\n                response = _context2.sent;\n\n                if (response.success) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw new Error(response.error);\n\n              case 5:\n                return _context2.abrupt(\"return\", response.data);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getEnvInfo() {\n        return _getEnvInfo.apply(this, arguments);\n      }\n\n      return getEnvInfo;\n    }()\n  }, {\n    key: \"getSafeInfo\",\n    value: function () {\n      var _getSafeInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.communicator.send(communication_1.METHODS.getSafeInfo, undefined);\n\n              case 2:\n                response = _context3.sent;\n\n                if (response.success) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw new Error(response.error);\n\n              case 5:\n                return _context3.abrupt(\"return\", response.data);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getSafeInfo() {\n        return _getSafeInfo.apply(this, arguments);\n      }\n\n      return getSafeInfo;\n    }()\n  }]);\n\n  return SafeAppsSDK;\n}();\n\nexports.default = SafeAppsSDK;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar messageFormatter_1 = require(\"./messageFormatter\");\n\nvar PostMessageCommunicator = function PostMessageCommunicator() {\n  var _this = this;\n\n  var allowedOrigins = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var debugMode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  _classCallCheck(this, PostMessageCommunicator);\n\n  this.allowedOrigins = null;\n  this.callbacks = new Map();\n  this.debugMode = false;\n\n  this.isValidMessage = function (_ref) {\n    var origin = _ref.origin,\n        data = _ref.data,\n        source = _ref.source;\n    var emptyOrMalformed = !data;\n    var sentFromParentEl = source === window.parent;\n    var majorVersionNumber = typeof data.version !== 'undefined' && parseInt(data.version.split('.')[0]);\n    var allowedSDKVersion = majorVersionNumber >= 1;\n    var validOrigin = true;\n\n    if (Array.isArray(_this.allowedOrigins)) {\n      validOrigin = _this.allowedOrigins.find(function (regExp) {\n        return regExp.test(origin);\n      }) !== undefined;\n    }\n\n    return !emptyOrMalformed && sentFromParentEl && allowedSDKVersion && validOrigin;\n  };\n\n  this.logIncomingMessage = function (msg) {\n    console.info(\"Safe Apps SDK v1: A message was received from origin \".concat(msg.origin, \". \"), msg.data);\n  };\n\n  this.onParentMessage = function (msg) {\n    if (_this.isValidMessage(msg)) {\n      _this.debugMode && _this.logIncomingMessage(msg);\n\n      _this.handleIncomingMessage(msg.data);\n    }\n  };\n\n  this.handleIncomingMessage = function (payload) {\n    var id = payload.id;\n\n    var cb = _this.callbacks.get(id);\n\n    if (cb) {\n      cb(payload);\n\n      _this.callbacks.delete(id);\n    }\n  };\n\n  this.send = function (method, params) {\n    var request = messageFormatter_1.MessageFormatter.makeRequest(method, params);\n\n    if (typeof window === 'undefined') {\n      throw new Error(\"Window doesn't exist\");\n    }\n\n    window.parent.postMessage(request, '*');\n    return new Promise(function (resolve) {\n      _this.callbacks.set(request.id, function (response) {\n        resolve(response);\n      });\n    });\n  };\n\n  this.allowedOrigins = allowedOrigins;\n  this.debugMode = debugMode;\n  window.addEventListener('message', this.onParentMessage);\n};\n\nexports.default = PostMessageCommunicator;\n\n__exportStar(require(\"./methods\"), exports);","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageFormatter = void 0;\n\nvar utils_1 = require(\"./utils\");\n\nvar utils_2 = require(\"../utils\");\n\nvar MessageFormatter = function MessageFormatter() {\n  _classCallCheck(this, MessageFormatter);\n};\n\nexports.MessageFormatter = MessageFormatter;\n\nMessageFormatter.makeRequest = function (method, params) {\n  var id = utils_1.generateRequestId();\n  return {\n    id: id,\n    method: method,\n    params: params,\n    env: {\n      sdkVersion: utils_2.getSDKVersion()\n    }\n  };\n};\n\nMessageFormatter.makeResponse = function (id, data, version) {\n  return {\n    id: id,\n    success: true,\n    version: version,\n    data: data\n  };\n};\n\nMessageFormatter.makeErrorResponse = function (id, error, version) {\n  return {\n    id: id,\n    success: false,\n    error: error,\n    version: version\n  };\n};","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSDKVersion = void 0;\n\nvar package_json_1 = __importDefault(require(\"../package.json\")); // console.log({ pkg });\n// Slice is needed for versions like '1.0.0-beta.0'\n\n\nvar getSDKVersion = function getSDKVersion() {\n  return package_json_1.default.version.slice(0, 5);\n};\n\nexports.getSDKVersion = getSDKVersion;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateRequestId = void 0; // i.e. 0-255 -> '00'-'ff'\n\nvar dec2hex = function dec2hex(dec) {\n  return dec.toString(16).padStart(2, '0');\n};\n\nvar generateId = function generateId(len) {\n  var arr = new Uint8Array((len || 40) / 2);\n  window.crypto.getRandomValues(arr);\n  return Array.from(arr, dec2hex).join('');\n};\n\nvar generateRequestId = function generateRequestId() {\n  if (typeof window !== 'undefined') {\n    return generateId(10);\n  }\n\n  return new Date().getTime().toString(36);\n};\n\nexports.generateRequestId = generateRequestId;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TXs = void 0;\n\nvar methods_1 = require(\"../communication/methods\");\n\nvar TXs = /*#__PURE__*/function () {\n  function TXs(communicator) {\n    _classCallCheck(this, TXs);\n\n    this.txServiceUrl = null;\n    this.communicator = communicator;\n  }\n\n  _createClass(TXs, [{\n    key: \"getBySafeTxHash\",\n    value: function () {\n      var _getBySafeTxHash = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(safeTxHash) {\n        var controller, options, res, json;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.txServiceUrl) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw new Error(\"ENV information hasn't been synced yet or there was an error during the process\");\n\n              case 2:\n                controller = new AbortController();\n                options = {\n                  method: 'GET',\n                  signal: controller.signal\n                };\n                setTimeout(function () {\n                  return controller.abort();\n                }, 10000);\n                _context.prev = 5;\n                _context.next = 8;\n                return fetch(\"\".concat(this.txServiceUrl, \"/transactions/\").concat(safeTxHash), options);\n\n              case 8:\n                res = _context.sent;\n\n                if (!(res.status !== 200)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                throw new Error(\"Failed to get the transaction. Either safeTxHash is incorrect or transaction hasn't been indexed by the service yet\");\n\n              case 11:\n                _context.next = 13;\n                return res.json();\n\n              case 13:\n                json = _context.sent;\n                return _context.abrupt(\"return\", json);\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](5);\n                throw _context.t0;\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 17]]);\n      }));\n\n      function getBySafeTxHash(_x) {\n        return _getBySafeTxHash.apply(this, arguments);\n      }\n\n      return getBySafeTxHash;\n    }()\n  }, {\n    key: \"send\",\n    value: function () {\n      var _send = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref) {\n        var txs, params, messagePayload, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                txs = _ref.txs, params = _ref.params;\n\n                if (!(!txs || !txs.length)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw new Error('No transactions were passed');\n\n              case 3:\n                messagePayload = {\n                  txs: txs,\n                  params: params\n                };\n                _context2.next = 6;\n                return this.communicator.send(methods_1.METHODS.sendTransactions, messagePayload);\n\n              case 6:\n                response = _context2.sent;\n\n                if (response.success) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                throw new Error(response.error);\n\n              case 9:\n                return _context2.abrupt(\"return\", response.data);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function send(_x2) {\n        return _send.apply(this, arguments);\n      }\n\n      return send;\n    }()\n  }, {\n    key: \"setTxServiceUrl\",\n    value: function setTxServiceUrl(url) {\n      this.txServiceUrl = url;\n    }\n  }]);\n\n  return TXs;\n}();\n\nexports.TXs = TXs;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Eth = void 0;\n\nvar constants_1 = require(\"../eth/constants\");\n\nvar methods_1 = require(\"../communication/methods\");\n\nvar inputFormatters = {\n  defaultBlockParam: function defaultBlockParam() {\n    var arg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'latest';\n    return arg;\n  },\n  returnFullTxObjectParam: function returnFullTxObjectParam() {\n    var arg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return arg;\n  },\n  blockNumberToHex: function blockNumberToHex(arg) {\n    return Number.isInteger(arg) ? \"0x\".concat(arg.toString(16)) : arg;\n  }\n};\n\nvar Eth = /*#__PURE__*/function () {\n  function Eth(communicator) {\n    _classCallCheck(this, Eth);\n\n    this.communicator = communicator;\n    this.call = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_call,\n      formatters: [null, inputFormatters.defaultBlockParam]\n    });\n    this.getBalance = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getBalance,\n      formatters: [null, inputFormatters.defaultBlockParam]\n    });\n    this.getCode = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getCode,\n      formatters: [null, inputFormatters.defaultBlockParam]\n    });\n    this.getStorageAt = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getStorageAt,\n      formatters: [null, inputFormatters.blockNumberToHex, inputFormatters.defaultBlockParam]\n    });\n    this.getPastLogs = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getLogs\n    });\n    this.getBlockByHash = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getBlockByHash,\n      formatters: [null, inputFormatters.returnFullTxObjectParam]\n    });\n    this.getBlockByNumber = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getBlockByNumber,\n      formatters: [inputFormatters.blockNumberToHex, inputFormatters.returnFullTxObjectParam]\n    });\n    this.getTransactionByHash = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getTransactionByHash\n    });\n    this.getTransactionReceipt = this.buildRequest({\n      call: constants_1.RPC_CALLS.eth_getTransactionReceipt\n    });\n  }\n\n  _createClass(Eth, [{\n    key: \"buildRequest\",\n    value: function buildRequest(_ref) {\n      var _this = this;\n\n      var call = _ref.call,\n          formatters = _ref.formatters;\n      return /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n          var payload, response;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (formatters && Array.isArray(params)) {\n                    formatters.forEach(function (formatter, i) {\n                      if (formatter) {\n                        params[i] = formatter(params[i]);\n                      }\n                    });\n                  }\n\n                  payload = {\n                    call: call,\n                    params: params\n                  };\n                  _context.next = 4;\n                  return _this.communicator.send(methods_1.METHODS.rpcCall, payload);\n\n                case 4:\n                  response = _context.sent;\n\n                  if (response.success) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  throw new Error(response.error);\n\n                case 7:\n                  return _context.abrupt(\"return\", response.data);\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n    }\n  }]);\n\n  return Eth;\n}();\n\nexports.Eth = Eth;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RPC_CALLS = void 0;\nexports.RPC_CALLS = {\n  eth_call: 'eth_call',\n  eth_getLogs: 'eth_getLogs',\n  eth_getBalance: 'eth_getBalance',\n  eth_getCode: 'eth_getCode',\n  eth_getBlockByHash: 'eth_getBlockByHash',\n  eth_getBlockByNumber: 'eth_getBlockByNumber',\n  eth_getStorageAt: 'eth_getStorageAt',\n  eth_getTransactionByHash: 'eth_getTransactionByHash',\n  eth_getTransactionReceipt: 'eth_getTransactionReceipt'\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SettingsChangeMethods = exports.TransferMethods = exports.Operation = void 0;\n\nvar methods_1 = require(\"./communication/methods\"); // copy-pasting all the types below from safe-react makes me think we might want to export them to a package\n\n\nvar Operation;\n\n(function (Operation) {\n  Operation[Operation[\"CALL\"] = 0] = \"CALL\";\n  Operation[Operation[\"DELEGATE_CALL\"] = 1] = \"DELEGATE_CALL\";\n  Operation[Operation[\"CREATE\"] = 2] = \"CREATE\";\n})(Operation = exports.Operation || (exports.Operation = {})); // types comes from: https://github.com/gnosis/safe-client-gateway/blob/752e76b6d1d475791dbd7917b174bb41d2d9d8be/src/utils.rs\n\n\nvar TransferMethods;\n\n(function (TransferMethods) {\n  TransferMethods[\"TRANSFER\"] = \"transfer\";\n  TransferMethods[\"TRANSFER_FROM\"] = \"transferFrom\";\n  TransferMethods[\"SAFE_TRANSFER_FROM\"] = \"safeTransferFrom\";\n})(TransferMethods = exports.TransferMethods || (exports.TransferMethods = {}));\n\nvar SettingsChangeMethods;\n\n(function (SettingsChangeMethods) {\n  SettingsChangeMethods[\"SETUP\"] = \"setup\";\n  SettingsChangeMethods[\"SET_FALLBACK_HANDLER\"] = \"setFallbackHandler\";\n  SettingsChangeMethods[\"ADD_OWNER_WITH_THRESHOLD\"] = \"addOwnerWithThreshold\";\n  SettingsChangeMethods[\"REMOVE_OWNER\"] = \"removeOwner\";\n  SettingsChangeMethods[\"REMOVE_OWNER_WITH_THRESHOLD\"] = \"removeOwnerWithThreshold\";\n  SettingsChangeMethods[\"SWAP_OWNER\"] = \"swapOwner\";\n  SettingsChangeMethods[\"CHANGE_THRESHOLD\"] = \"changeThreshold\";\n  SettingsChangeMethods[\"CHANGE_MASTER_COPY\"] = \"changeMasterCopy\";\n  SettingsChangeMethods[\"ENABLE_MODULE\"] = \"enableModule\";\n  SettingsChangeMethods[\"DISABLE_MODULE\"] = \"disableModule\";\n  SettingsChangeMethods[\"EXEC_TRANSACTION_FROM_MODULE\"] = \"execTransactionFromModule\";\n  SettingsChangeMethods[\"APPROVE_HASH\"] = \"approveHash\";\n  SettingsChangeMethods[\"EXEC_TRANSACTION\"] = \"execTransaction\";\n})(SettingsChangeMethods = exports.SettingsChangeMethods || (exports.SettingsChangeMethods = {}));"],"sourceRoot":""}