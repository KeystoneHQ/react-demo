{"version":3,"sources":["../../onboard/node_modules/@ledgerhq/logs/lib-es/index.js","../../onboard/node_modules/@ledgerhq/hw-transport/lib-es/Transport.js","../node_modules/events/events.js","../../onboard/node_modules/@ledgerhq/errors/dist/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"names":["id","subscribers","log","type","message","data","obj","String","date","Date","i","length","e","console","error","dispatch","window","__ledgerLogsListen","cb","push","indexOf","pop","Transport","_this","this","exchangeTimeout","unresponsiveTimeout","deviceModel","_events","send","_ref","mark","_callee","cla","ins","p1","p2","statusList","response","sw","_args","arguments","wrap","_context","prev","next","undefined","Buffer","alloc","OK","exchange","concat","from","sent","readUInt16BE","some","s","abrupt","stop","_x","_x2","_x3","_x4","apply","exchangeBusyPromise","exchangeAtomicImpl","_ref2","_callee2","f","resolveBusy","busyPromise","unresponsiveReached","timeout","res","_context2","Promise","r","setTimeout","emit","clearTimeout","finish","_x5","_appAPIlock","key","value","_apdu","Error","_key","resolve","eventName","on","removeListener","event","_this$_events","_len","args","Array","_key2","warn","self","methods","scrambleKey","_step","_iterator","n","done","methodName","decorateAppAPIMethod","err","ctx","_this2","_callee3","_len2","_key3","_args3","_context3","reject","setScrambleKey","_this3","openTimeout","listenTimeout","found","sub","listen","unsubscribe","listenTimeoutId","open","descriptor","then","complete","ErrorMessage_NoDeviceFound","ErrorMessage_ListenTimeout","isSupported","list","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","Number","isNaN","EventEmitter","init","module","exports","once","emitter","name","errorListener","resolver","slice","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","create","newListener","unshift","warned","w","count","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","unwrapListeners","arrayClone","listenerCount","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","len","listeners","addListener","prependListener","prependOnceListener","position","originalListener","shift","index","spliceOne","off","removeAllListeners","keys","rawListeners","eventNames","errorClasses","deserializers","addCustomErrorDeserializer","deserializer","createCustomErrorClass","C","fields","assign","stack","deserializeError","object","msg","JSON","parse","name_1","des","constructor","prop","hasOwnProperty","captureStackTrace","serializeError","destroyCircular","seen","to","_i","_a","AccountNameRequiredError","AccountNotSupported","AmountRequired","BluetoothRequired","BtcUnmatchedApp","CantOpenDevice","CashAddrNotSupported","CurrencyNotSupported","DeviceAppVerifyNotSupported","DeviceGenuineSocketEarlyClose","DeviceNotGenuineError","DeviceOnDashboardExpected","DeviceOnDashboardUnexpected","DeviceInOSUExpected","DeviceHalted","DeviceNameInvalid","DeviceSocketFail","DeviceSocketNoBulkStatus","DisconnectedDevice","DisconnectedDeviceDuringOperation","EnpointConfigError","EthAppPleaseEnableContractData","FeeEstimationFailed","FirmwareNotRecognized","HardResetFail","InvalidXRPTag","InvalidAddress","InvalidAddressBecauseDestinationIsAlsoSource","LatestMCUInstalledError","UnknownMCU","LedgerAPIError","LedgerAPIErrorWithMessage","LedgerAPINotAvailable","ManagerAppAlreadyInstalledError","ManagerAppRelyOnBTCError","ManagerAppDepInstallRequired","ManagerAppDepUninstallRequired","ManagerDeviceLockedError","ManagerFirmwareNotEnoughSpaceError","ManagerNotEnoughSpaceError","ManagerUninstallBTCDep","NetworkDown","NoAddressesFound","NotEnoughBalance","NotEnoughBalanceToDelegate","NotEnoughBalanceInParentAccount","NotEnoughSpendableBalance","NotEnoughBalanceBecauseDestinationNotCreated","NoAccessToCamera","NotEnoughGas","NotSupportedLegacyAddress","GasLessThanEstimate","PasswordsDontMatchError","PasswordIncorrectError","RecommendSubAccountsToEmpty","RecommendUndelegation","TimeoutTagged","UnexpectedBootloader","MCUNotGenuineToDashboard","RecipientRequired","UnavailableTezosOriginatedAccountReceive","UnavailableTezosOriginatedAccountSend","UpdateFetchFileFail","UpdateIncorrectHash","UpdateIncorrectSig","UpdateYourApp","UserRefusedDeviceNameChange","UserRefusedAddress","UserRefusedFirmwareUpdate","UserRefusedAllowManager","UserRefusedOnDevice","TransportOpenUserCancelled","TransportInterfaceNotAvailable","TransportRaceCondition","TransportWebUSBGestureRequired","DeviceShouldStayInApp","WebsocketConnectionError","WebsocketConnectionFailed","WrongDeviceForAccount","WrongAppForCurrency","ETHAddressNonEIP","CantScanQRCode","FeeNotLoaded","FeeRequired","FeeTooHigh","SyncError","PairingFailed","GenuineCheckFailed","LedgerAPI4xx","LedgerAPI5xx","FirmwareOrAppUpdateRequired","NoDBPathGiven","DBWrongPassword","DBNotReset","TransportError","StatusCodes","PIN_REMAINING_ATTEMPTS","INCORRECT_LENGTH","MISSING_CRITICAL_PARAMETER","COMMAND_INCOMPATIBLE_FILE_STRUCTURE","SECURITY_STATUS_NOT_SATISFIED","CONDITIONS_OF_USE_NOT_SATISFIED","INCORRECT_DATA","NOT_ENOUGH_MEMORY_SPACE","REFERENCED_DATA_NOT_FOUND","FILE_ALREADY_EXISTS","INCORRECT_P1_P2","INS_NOT_SUPPORTED","CLA_NOT_SUPPORTED","TECHNICAL_PROBLEM","MEMORY_PROBLEM","NO_EF_SELECTED","INVALID_OFFSET","FILE_NOT_FOUND","INCONSISTENT_FILE","ALGORITHM_NOT_SUPPORTED","INVALID_KCV","CODE_NOT_INITIALIZED","ACCESS_CONDITION_NOT_FULFILLED","CONTRADICTION_SECRET_CODE_STATUS","CONTRADICTION_INVALIDATION","CODE_BLOCKED","MAX_VALUE_REACHED","GP_AUTH_FAILED","LICENSING","HALTED","getAltStatusMessage","code","TransportStatusError","statusCode","statusText","find","k","smsg","statusCodeStr","toString","_createForOfIteratorHelper","o","Symbol","iterator","isArray","F","_e","it","normalCompletion","didErr","step","_e2"],"mappings":"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","file":"static/js/23.de9ec960.chunk.js","sourcesContent":["/**\n * A Log object\n */\nvar id = 0;\nvar subscribers = [];\n/**\n * log something\n * @param type a namespaced identifier of the log (it is not a level like \"debug\", \"error\" but more like \"apdu-in\", \"apdu-out\", etc...)\n * @param message a clear message of the log associated to the type\n */\n\nexport var log = function log(type, message, data) {\n  var obj = {\n    type: type,\n    id: String(++id),\n    date: new Date()\n  };\n  if (message) obj.message = message;\n  if (data) obj.data = data;\n  dispatch(obj);\n};\n/**\n * listen to logs.\n * @param cb that is called for each future log() with the Log object\n * @return a function that can be called to unsubscribe the listener\n */\n\nexport var listen = function listen(cb) {\n  subscribers.push(cb);\n  return function () {\n    var i = subscribers.indexOf(cb);\n\n    if (i !== -1) {\n      // equivalent of subscribers.splice(i, 1) // https://twitter.com/Rich_Harris/status/1125850391155965952\n      subscribers[i] = subscribers[subscribers.length - 1];\n      subscribers.pop();\n    }\n  };\n};\n\nfunction dispatch(log) {\n  for (var i = 0; i < subscribers.length; i++) {\n    try {\n      subscribers[i](log);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n} // for debug purpose\n\n\nif (typeof window !== \"undefined\") {\n  window.__ledgerLogsListen = listen;\n}","import _createForOfIteratorHelper from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _regeneratorRuntime from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sora/keystone/react-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport EventEmitter from \"events\";\nimport { TransportRaceCondition, TransportError, StatusCodes, getAltStatusMessage, TransportStatusError } from \"@ledgerhq/errors\";\nexport { TransportError, TransportStatusError, StatusCodes, getAltStatusMessage };\n/**\n */\n\n/**\n * Transport defines the generic interface to share between node/u2f impl\n * A **Descriptor** is a parametric type that is up to be determined for the implementation.\n * it can be for instance an ID, an file path, a URL,...\n */\n\nvar Transport = /*#__PURE__*/function () {\n  function Transport() {\n    var _this = this;\n\n    _classCallCheck(this, Transport);\n\n    this.exchangeTimeout = 30000;\n    this.unresponsiveTimeout = 15000;\n    this.deviceModel = null;\n    this._events = new EventEmitter();\n\n    this.send = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(cla, ins, p1, p2) {\n        var data,\n            statusList,\n            response,\n            sw,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = _args.length > 4 && _args[4] !== undefined ? _args[4] : Buffer.alloc(0);\n                statusList = _args.length > 5 && _args[5] !== undefined ? _args[5] : [StatusCodes.OK];\n\n                if (!(data.length >= 256)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                throw new TransportError(\"data.length exceed 256 bytes limit. Got: \" + data.length, \"DataLengthTooBig\");\n\n              case 4:\n                _context.next = 6;\n                return _this.exchange(Buffer.concat([Buffer.from([cla, ins, p1, p2]), Buffer.from([data.length]), data]));\n\n              case 6:\n                response = _context.sent;\n                sw = response.readUInt16BE(response.length - 2);\n\n                if (statusList.some(function (s) {\n                  return s === sw;\n                })) {\n                  _context.next = 10;\n                  break;\n                }\n\n                throw new TransportStatusError(sw);\n\n              case 10:\n                return _context.abrupt(\"return\", response);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2, _x3, _x4) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.exchangeBusyPromise = void 0;\n\n    this.exchangeAtomicImpl = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(f) {\n        var resolveBusy, busyPromise, unresponsiveReached, timeout, res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this.exchangeBusyPromise) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw new TransportRaceCondition(\"An action was already pending on the Ledger device. Please deny or reconnect.\");\n\n              case 2:\n                busyPromise = new Promise(function (r) {\n                  resolveBusy = r;\n                });\n                _this.exchangeBusyPromise = busyPromise;\n                unresponsiveReached = false;\n                timeout = setTimeout(function () {\n                  unresponsiveReached = true;\n\n                  _this.emit(\"unresponsive\");\n                }, _this.unresponsiveTimeout);\n                _context2.prev = 6;\n                _context2.next = 9;\n                return f();\n\n              case 9:\n                res = _context2.sent;\n\n                if (unresponsiveReached) {\n                  _this.emit(\"responsive\");\n                }\n\n                return _context2.abrupt(\"return\", res);\n\n              case 12:\n                _context2.prev = 12;\n                clearTimeout(timeout);\n                if (resolveBusy) resolveBusy();\n                _this.exchangeBusyPromise = null;\n                return _context2.finish(12);\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[6,, 12, 17]]);\n      }));\n\n      return function (_x5) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    this._appAPIlock = null;\n  }\n  /**\n   * low level api to communicate with the device\n   * This method is for implementations to implement but should not be directly called.\n   * Instead, the recommanded way is to use send() method\n   * @param apdu the data to send\n   * @return a Promise of response data\n   */\n\n\n  _createClass(Transport, [{\n    key: \"exchange\",\n    value: function exchange(_apdu) {\n      throw new Error(\"exchange not implemented\");\n    }\n    /**\n     * set the \"scramble key\" for the next exchanges with the device.\n     * Each App can have a different scramble key and they internally will set it at instanciation.\n     * @param key the scramble key\n     */\n\n  }, {\n    key: \"setScrambleKey\",\n    value: function setScrambleKey(_key) {}\n    /**\n     * close the exchange with the device.\n     * @return a Promise that ends when the transport is closed.\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      return Promise.resolve();\n    }\n    /**\n     * Listen to an event on an instance of transport.\n     * Transport implementation can have specific events. Here is the common events:\n     * * `\"disconnect\"` : triggered if Transport is disconnected\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(eventName, cb) {\n      this._events.on(eventName, cb);\n    }\n    /**\n     * Stop listening to an event on an instance of transport.\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventName, cb) {\n      this._events.removeListener(eventName, cb);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$_events;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (_this$_events = this._events).emit.apply(_this$_events, [event].concat(args));\n    }\n    /**\n     * Enable or not logs of the binary exchange\n     */\n\n  }, {\n    key: \"setDebugMode\",\n    value: function setDebugMode() {\n      console.warn(\"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\");\n    }\n    /**\n     * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n     */\n\n  }, {\n    key: \"setExchangeTimeout\",\n    value: function setExchangeTimeout(exchangeTimeout) {\n      this.exchangeTimeout = exchangeTimeout;\n    }\n    /**\n     * Define the delay before emitting \"unresponsive\" on an exchange that does not respond\n     */\n\n  }, {\n    key: \"setExchangeUnresponsiveTimeout\",\n    value: function setExchangeUnresponsiveTimeout(unresponsiveTimeout) {\n      this.unresponsiveTimeout = unresponsiveTimeout;\n    }\n    /**\n     * wrapper on top of exchange to simplify work of the implementation.\n     * @param cla\n     * @param ins\n     * @param p1\n     * @param p2\n     * @param data\n     * @param statusList is a list of accepted status code (shorts). [0x9000] by default\n     * @return a Promise of response buffer\n     */\n\n    /**\n     * create() allows to open the first descriptor available or\n     * throw if there is none or if timeout is reached.\n     * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n     * @example\n    TransportFoo.create().then(transport => ...)\n     */\n\n  }, {\n    key: \"decorateAppAPIMethods\",\n    value: function decorateAppAPIMethods(self, methods, scrambleKey) {\n      var _iterator = _createForOfIteratorHelper(methods),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var methodName = _step.value;\n          self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"decorateAppAPIMethod\",\n    value: function decorateAppAPIMethod(methodName, f, ctx, scrambleKey) {\n      var _this2 = this;\n\n      return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var _appAPIlock,\n            _len2,\n            args,\n            _key3,\n            _args3 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _appAPIlock = _this2._appAPIlock;\n\n                if (!_appAPIlock) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", Promise.reject(new TransportError(\"Ledger Device is busy (lock \" + _appAPIlock + \")\", \"TransportLocked\")));\n\n              case 3:\n                _context3.prev = 3;\n                _this2._appAPIlock = methodName;\n\n                _this2.setScrambleKey(scrambleKey);\n\n                for (_len2 = _args3.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n                  args[_key3] = _args3[_key3];\n                }\n\n                _context3.next = 9;\n                return f.apply(ctx, args);\n\n              case 9:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 10:\n                _context3.prev = 10;\n                _this2._appAPIlock = null;\n                return _context3.finish(10);\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[3,, 10, 13]]);\n      }));\n    }\n  }], [{\n    key: \"create\",\n    value: function create() {\n      var _this3 = this;\n\n      var openTimeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3000;\n      var listenTimeout = arguments.length > 1 ? arguments[1] : undefined;\n      return new Promise(function (resolve, reject) {\n        var found = false;\n\n        var sub = _this3.listen({\n          next: function next(e) {\n            found = true;\n            if (sub) sub.unsubscribe();\n            if (listenTimeoutId) clearTimeout(listenTimeoutId);\n\n            _this3.open(e.descriptor, openTimeout).then(resolve, reject);\n          },\n          error: function error(e) {\n            if (listenTimeoutId) clearTimeout(listenTimeoutId);\n            reject(e);\n          },\n          complete: function complete() {\n            if (listenTimeoutId) clearTimeout(listenTimeoutId);\n\n            if (!found) {\n              reject(new TransportError(_this3.ErrorMessage_NoDeviceFound, \"NoDeviceFound\"));\n            }\n          }\n        });\n\n        var listenTimeoutId = listenTimeout ? setTimeout(function () {\n          sub.unsubscribe();\n          reject(new TransportError(_this3.ErrorMessage_ListenTimeout, \"ListenTimeout\"));\n        }, listenTimeout) : null;\n      });\n    }\n  }]);\n\n  return Transport;\n}();\n\nexport { Transport as default };\nTransport.isSupported = void 0;\nTransport.list = void 0;\nTransport.listen = void 0;\nTransport.open = void 0;\nTransport.ErrorMessage_ListenTimeout = \"No Ledger device found (timeout)\";\nTransport.ErrorMessage_NoDeviceFound = \"No Ledger device found\";","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    eventTargetAgnosticAddListener(emitter, name, resolver, {\n      once: true\n    });\n\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, {\n        once: true\n      });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}","/* eslint-disable no-continue */\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable no-prototype-builtins */\nvar errorClasses = {};\nvar deserializers = {};\n\nvar addCustomErrorDeserializer = function addCustomErrorDeserializer(name, deserializer) {\n  deserializers[name] = deserializer;\n};\n\nvar createCustomErrorClass = function createCustomErrorClass(name) {\n  var C = function CustomError(message, fields) {\n    Object.assign(this, fields);\n    this.name = name;\n    this.message = message || name;\n    this.stack = new Error().stack;\n  };\n\n  C.prototype = new Error();\n  errorClasses[name] = C;\n  return C;\n}; // inspired from https://github.com/programble/errio/blob/master/index.js\n\n\nvar deserializeError = function deserializeError(object) {\n  if (typeof object === \"object\" && object) {\n    try {\n      // $FlowFixMe FIXME HACK\n      var msg = JSON.parse(object.message);\n\n      if (msg.message && msg.name) {\n        object = msg;\n      }\n    } catch (e) {// nothing\n    }\n\n    var error = void 0;\n\n    if (typeof object.name === \"string\") {\n      var name_1 = object.name;\n      var des = deserializers[name_1];\n\n      if (des) {\n        error = des(object);\n      } else {\n        var constructor = name_1 === \"Error\" ? Error : errorClasses[name_1];\n\n        if (!constructor) {\n          console.warn(\"deserializing an unknown class '\" + name_1 + \"'\");\n          constructor = createCustomErrorClass(name_1);\n        }\n\n        error = Object.create(constructor.prototype);\n\n        try {\n          for (var prop in object) {\n            if (object.hasOwnProperty(prop)) {\n              error[prop] = object[prop];\n            }\n          }\n        } catch (e) {// sometimes setting a property can fail (e.g. .name)\n        }\n      }\n    } else {\n      error = new Error(object.message);\n    }\n\n    if (!error.stack && Error.captureStackTrace) {\n      Error.captureStackTrace(error, deserializeError);\n    }\n\n    return error;\n  }\n\n  return new Error(String(object));\n}; // inspired from https://github.com/sindresorhus/serialize-error/blob/master/index.js\n\n\nvar serializeError = function serializeError(value) {\n  if (!value) return value;\n\n  if (typeof value === \"object\") {\n    return destroyCircular(value, []);\n  }\n\n  if (typeof value === \"function\") {\n    return \"[Function: \" + (value.name || \"anonymous\") + \"]\";\n  }\n\n  return value;\n}; // https://www.npmjs.com/package/destroy-circular\n\n\nfunction destroyCircular(from, seen) {\n  var to = {};\n  seen.push(from);\n\n  for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\n    var key = _a[_i];\n    var value = from[key];\n\n    if (typeof value === \"function\") {\n      continue;\n    }\n\n    if (!value || typeof value !== \"object\") {\n      to[key] = value;\n      continue;\n    }\n\n    if (seen.indexOf(from[key]) === -1) {\n      to[key] = destroyCircular(from[key], seen.slice(0));\n      continue;\n    }\n\n    to[key] = \"[Circular]\";\n  }\n\n  if (typeof from.name === \"string\") {\n    to.name = from.name;\n  }\n\n  if (typeof from.message === \"string\") {\n    to.message = from.message;\n  }\n\n  if (typeof from.stack === \"string\") {\n    to.stack = from.stack;\n  }\n\n  return to;\n}\n\nvar AccountNameRequiredError = createCustomErrorClass(\"AccountNameRequired\");\nvar AccountNotSupported = createCustomErrorClass(\"AccountNotSupported\");\nvar AmountRequired = createCustomErrorClass(\"AmountRequired\");\nvar BluetoothRequired = createCustomErrorClass(\"BluetoothRequired\");\nvar BtcUnmatchedApp = createCustomErrorClass(\"BtcUnmatchedApp\");\nvar CantOpenDevice = createCustomErrorClass(\"CantOpenDevice\");\nvar CashAddrNotSupported = createCustomErrorClass(\"CashAddrNotSupported\");\nvar CurrencyNotSupported = createCustomErrorClass(\"CurrencyNotSupported\");\nvar DeviceAppVerifyNotSupported = createCustomErrorClass(\"DeviceAppVerifyNotSupported\");\nvar DeviceGenuineSocketEarlyClose = createCustomErrorClass(\"DeviceGenuineSocketEarlyClose\");\nvar DeviceNotGenuineError = createCustomErrorClass(\"DeviceNotGenuine\");\nvar DeviceOnDashboardExpected = createCustomErrorClass(\"DeviceOnDashboardExpected\");\nvar DeviceOnDashboardUnexpected = createCustomErrorClass(\"DeviceOnDashboardUnexpected\");\nvar DeviceInOSUExpected = createCustomErrorClass(\"DeviceInOSUExpected\");\nvar DeviceHalted = createCustomErrorClass(\"DeviceHalted\");\nvar DeviceNameInvalid = createCustomErrorClass(\"DeviceNameInvalid\");\nvar DeviceSocketFail = createCustomErrorClass(\"DeviceSocketFail\");\nvar DeviceSocketNoBulkStatus = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\nvar DisconnectedDevice = createCustomErrorClass(\"DisconnectedDevice\");\nvar DisconnectedDeviceDuringOperation = createCustomErrorClass(\"DisconnectedDeviceDuringOperation\");\nvar EnpointConfigError = createCustomErrorClass(\"EnpointConfig\");\nvar EthAppPleaseEnableContractData = createCustomErrorClass(\"EthAppPleaseEnableContractData\");\nvar FeeEstimationFailed = createCustomErrorClass(\"FeeEstimationFailed\");\nvar FirmwareNotRecognized = createCustomErrorClass(\"FirmwareNotRecognized\");\nvar HardResetFail = createCustomErrorClass(\"HardResetFail\");\nvar InvalidXRPTag = createCustomErrorClass(\"InvalidXRPTag\");\nvar InvalidAddress = createCustomErrorClass(\"InvalidAddress\");\nvar InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass(\"InvalidAddressBecauseDestinationIsAlsoSource\");\nvar LatestMCUInstalledError = createCustomErrorClass(\"LatestMCUInstalledError\");\nvar UnknownMCU = createCustomErrorClass(\"UnknownMCU\");\nvar LedgerAPIError = createCustomErrorClass(\"LedgerAPIError\");\nvar LedgerAPIErrorWithMessage = createCustomErrorClass(\"LedgerAPIErrorWithMessage\");\nvar LedgerAPINotAvailable = createCustomErrorClass(\"LedgerAPINotAvailable\");\nvar ManagerAppAlreadyInstalledError = createCustomErrorClass(\"ManagerAppAlreadyInstalled\");\nvar ManagerAppRelyOnBTCError = createCustomErrorClass(\"ManagerAppRelyOnBTC\");\nvar ManagerAppDepInstallRequired = createCustomErrorClass(\"ManagerAppDepInstallRequired\");\nvar ManagerAppDepUninstallRequired = createCustomErrorClass(\"ManagerAppDepUninstallRequired\");\nvar ManagerDeviceLockedError = createCustomErrorClass(\"ManagerDeviceLocked\");\nvar ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass(\"ManagerFirmwareNotEnoughSpace\");\nvar ManagerNotEnoughSpaceError = createCustomErrorClass(\"ManagerNotEnoughSpace\");\nvar ManagerUninstallBTCDep = createCustomErrorClass(\"ManagerUninstallBTCDep\");\nvar NetworkDown = createCustomErrorClass(\"NetworkDown\");\nvar NoAddressesFound = createCustomErrorClass(\"NoAddressesFound\");\nvar NotEnoughBalance = createCustomErrorClass(\"NotEnoughBalance\");\nvar NotEnoughBalanceToDelegate = createCustomErrorClass(\"NotEnoughBalanceToDelegate\");\nvar NotEnoughBalanceInParentAccount = createCustomErrorClass(\"NotEnoughBalanceInParentAccount\");\nvar NotEnoughSpendableBalance = createCustomErrorClass(\"NotEnoughSpendableBalance\");\nvar NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass(\"NotEnoughBalanceBecauseDestinationNotCreated\");\nvar NoAccessToCamera = createCustomErrorClass(\"NoAccessToCamera\");\nvar NotEnoughGas = createCustomErrorClass(\"NotEnoughGas\");\nvar NotSupportedLegacyAddress = createCustomErrorClass(\"NotSupportedLegacyAddress\");\nvar GasLessThanEstimate = createCustomErrorClass(\"GasLessThanEstimate\");\nvar PasswordsDontMatchError = createCustomErrorClass(\"PasswordsDontMatch\");\nvar PasswordIncorrectError = createCustomErrorClass(\"PasswordIncorrect\");\nvar RecommendSubAccountsToEmpty = createCustomErrorClass(\"RecommendSubAccountsToEmpty\");\nvar RecommendUndelegation = createCustomErrorClass(\"RecommendUndelegation\");\nvar TimeoutTagged = createCustomErrorClass(\"TimeoutTagged\");\nvar UnexpectedBootloader = createCustomErrorClass(\"UnexpectedBootloader\");\nvar MCUNotGenuineToDashboard = createCustomErrorClass(\"MCUNotGenuineToDashboard\");\nvar RecipientRequired = createCustomErrorClass(\"RecipientRequired\");\nvar UnavailableTezosOriginatedAccountReceive = createCustomErrorClass(\"UnavailableTezosOriginatedAccountReceive\");\nvar UnavailableTezosOriginatedAccountSend = createCustomErrorClass(\"UnavailableTezosOriginatedAccountSend\");\nvar UpdateFetchFileFail = createCustomErrorClass(\"UpdateFetchFileFail\");\nvar UpdateIncorrectHash = createCustomErrorClass(\"UpdateIncorrectHash\");\nvar UpdateIncorrectSig = createCustomErrorClass(\"UpdateIncorrectSig\");\nvar UpdateYourApp = createCustomErrorClass(\"UpdateYourApp\");\nvar UserRefusedDeviceNameChange = createCustomErrorClass(\"UserRefusedDeviceNameChange\");\nvar UserRefusedAddress = createCustomErrorClass(\"UserRefusedAddress\");\nvar UserRefusedFirmwareUpdate = createCustomErrorClass(\"UserRefusedFirmwareUpdate\");\nvar UserRefusedAllowManager = createCustomErrorClass(\"UserRefusedAllowManager\");\nvar UserRefusedOnDevice = createCustomErrorClass(\"UserRefusedOnDevice\"); // TODO rename because it's just for transaction refusal\n\nvar TransportOpenUserCancelled = createCustomErrorClass(\"TransportOpenUserCancelled\");\nvar TransportInterfaceNotAvailable = createCustomErrorClass(\"TransportInterfaceNotAvailable\");\nvar TransportRaceCondition = createCustomErrorClass(\"TransportRaceCondition\");\nvar TransportWebUSBGestureRequired = createCustomErrorClass(\"TransportWebUSBGestureRequired\");\nvar DeviceShouldStayInApp = createCustomErrorClass(\"DeviceShouldStayInApp\");\nvar WebsocketConnectionError = createCustomErrorClass(\"WebsocketConnectionError\");\nvar WebsocketConnectionFailed = createCustomErrorClass(\"WebsocketConnectionFailed\");\nvar WrongDeviceForAccount = createCustomErrorClass(\"WrongDeviceForAccount\");\nvar WrongAppForCurrency = createCustomErrorClass(\"WrongAppForCurrency\");\nvar ETHAddressNonEIP = createCustomErrorClass(\"ETHAddressNonEIP\");\nvar CantScanQRCode = createCustomErrorClass(\"CantScanQRCode\");\nvar FeeNotLoaded = createCustomErrorClass(\"FeeNotLoaded\");\nvar FeeRequired = createCustomErrorClass(\"FeeRequired\");\nvar FeeTooHigh = createCustomErrorClass(\"FeeTooHigh\");\nvar SyncError = createCustomErrorClass(\"SyncError\");\nvar PairingFailed = createCustomErrorClass(\"PairingFailed\");\nvar GenuineCheckFailed = createCustomErrorClass(\"GenuineCheckFailed\");\nvar LedgerAPI4xx = createCustomErrorClass(\"LedgerAPI4xx\");\nvar LedgerAPI5xx = createCustomErrorClass(\"LedgerAPI5xx\");\nvar FirmwareOrAppUpdateRequired = createCustomErrorClass(\"FirmwareOrAppUpdateRequired\"); // db stuff, no need to translate\n\nvar NoDBPathGiven = createCustomErrorClass(\"NoDBPathGiven\");\nvar DBWrongPassword = createCustomErrorClass(\"DBWrongPassword\");\nvar DBNotReset = createCustomErrorClass(\"DBNotReset\");\n/**\r\n * TransportError is used for any generic transport errors.\r\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\r\n */\n\nfunction TransportError(message, id) {\n  this.name = \"TransportError\";\n  this.message = message;\n  this.stack = new Error().stack;\n  this.id = id;\n}\n\nTransportError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportError\", function (e) {\n  return new TransportError(e.message, e.id);\n});\nvar StatusCodes = {\n  PIN_REMAINING_ATTEMPTS: 0x63c0,\n  INCORRECT_LENGTH: 0x6700,\n  MISSING_CRITICAL_PARAMETER: 0x6800,\n  COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\n  SECURITY_STATUS_NOT_SATISFIED: 0x6982,\n  CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\n  INCORRECT_DATA: 0x6a80,\n  NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\n  REFERENCED_DATA_NOT_FOUND: 0x6a88,\n  FILE_ALREADY_EXISTS: 0x6a89,\n  INCORRECT_P1_P2: 0x6b00,\n  INS_NOT_SUPPORTED: 0x6d00,\n  CLA_NOT_SUPPORTED: 0x6e00,\n  TECHNICAL_PROBLEM: 0x6f00,\n  OK: 0x9000,\n  MEMORY_PROBLEM: 0x9240,\n  NO_EF_SELECTED: 0x9400,\n  INVALID_OFFSET: 0x9402,\n  FILE_NOT_FOUND: 0x9404,\n  INCONSISTENT_FILE: 0x9408,\n  ALGORITHM_NOT_SUPPORTED: 0x9484,\n  INVALID_KCV: 0x9485,\n  CODE_NOT_INITIALIZED: 0x9802,\n  ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\n  CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\n  CONTRADICTION_INVALIDATION: 0x9810,\n  CODE_BLOCKED: 0x9840,\n  MAX_VALUE_REACHED: 0x9850,\n  GP_AUTH_FAILED: 0x6300,\n  LICENSING: 0x6f42,\n  HALTED: 0x6faa\n};\n\nfunction getAltStatusMessage(code) {\n  switch (code) {\n    // improve text of most common errors\n    case 0x6700:\n      return \"Incorrect length\";\n\n    case 0x6800:\n      return \"Missing critical parameter\";\n\n    case 0x6982:\n      return \"Security not satisfied (dongle locked or have invalid access rights)\";\n\n    case 0x6985:\n      return \"Condition of use not satisfied (denied by the user?)\";\n\n    case 0x6a80:\n      return \"Invalid data received\";\n\n    case 0x6b00:\n      return \"Invalid parameter received\";\n  }\n\n  if (0x6f00 <= code && code <= 0x6fff) {\n    return \"Internal error, please report\";\n  }\n}\n/**\r\n * Error thrown when a device returned a non success status.\r\n * the error.statusCode is one of the `StatusCodes` exported by this library.\r\n */\n\n\nfunction TransportStatusError(statusCode) {\n  this.name = \"TransportStatusError\";\n  var statusText = Object.keys(StatusCodes).find(function (k) {\n    return StatusCodes[k] === statusCode;\n  }) || \"UNKNOWN_ERROR\";\n  var smsg = getAltStatusMessage(statusCode) || statusText;\n  var statusCodeStr = statusCode.toString(16);\n  this.message = \"Ledger device: \" + smsg + \" (0x\" + statusCodeStr + \")\";\n  this.stack = new Error().stack;\n  this.statusCode = statusCode;\n  this.statusText = statusText;\n}\n\nTransportStatusError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportStatusError\", function (e) {\n  return new TransportStatusError(e.statusCode);\n});\nexport { AccountNameRequiredError, AccountNotSupported, AmountRequired, BluetoothRequired, BtcUnmatchedApp, CantOpenDevice, CantScanQRCode, CashAddrNotSupported, CurrencyNotSupported, DBNotReset, DBWrongPassword, DeviceAppVerifyNotSupported, DeviceGenuineSocketEarlyClose, DeviceHalted, DeviceInOSUExpected, DeviceNameInvalid, DeviceNotGenuineError, DeviceOnDashboardExpected, DeviceOnDashboardUnexpected, DeviceShouldStayInApp, DeviceSocketFail, DeviceSocketNoBulkStatus, DisconnectedDevice, DisconnectedDeviceDuringOperation, ETHAddressNonEIP, EnpointConfigError, EthAppPleaseEnableContractData, FeeEstimationFailed, FeeNotLoaded, FeeRequired, FeeTooHigh, FirmwareNotRecognized, FirmwareOrAppUpdateRequired, GasLessThanEstimate, GenuineCheckFailed, HardResetFail, InvalidAddress, InvalidAddressBecauseDestinationIsAlsoSource, InvalidXRPTag, LatestMCUInstalledError, LedgerAPI4xx, LedgerAPI5xx, LedgerAPIError, LedgerAPIErrorWithMessage, LedgerAPINotAvailable, MCUNotGenuineToDashboard, ManagerAppAlreadyInstalledError, ManagerAppDepInstallRequired, ManagerAppDepUninstallRequired, ManagerAppRelyOnBTCError, ManagerDeviceLockedError, ManagerFirmwareNotEnoughSpaceError, ManagerNotEnoughSpaceError, ManagerUninstallBTCDep, NetworkDown, NoAccessToCamera, NoAddressesFound, NoDBPathGiven, NotEnoughBalance, NotEnoughBalanceBecauseDestinationNotCreated, NotEnoughBalanceInParentAccount, NotEnoughBalanceToDelegate, NotEnoughGas, NotEnoughSpendableBalance, NotSupportedLegacyAddress, PairingFailed, PasswordIncorrectError, PasswordsDontMatchError, RecipientRequired, RecommendSubAccountsToEmpty, RecommendUndelegation, StatusCodes, SyncError, TimeoutTagged, TransportError, TransportInterfaceNotAvailable, TransportOpenUserCancelled, TransportRaceCondition, TransportStatusError, TransportWebUSBGestureRequired, UnavailableTezosOriginatedAccountReceive, UnavailableTezosOriginatedAccountSend, UnexpectedBootloader, UnknownMCU, UpdateFetchFileFail, UpdateIncorrectHash, UpdateIncorrectSig, UpdateYourApp, UserRefusedAddress, UserRefusedAllowManager, UserRefusedDeviceNameChange, UserRefusedFirmwareUpdate, UserRefusedOnDevice, WebsocketConnectionError, WebsocketConnectionFailed, WrongAppForCurrency, WrongDeviceForAccount, addCustomErrorDeserializer, createCustomErrorClass, deserializeError, getAltStatusMessage, serializeError };","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"sourceRoot":""}